import{g as He,a as Ge,r as z,b as Je,d as er,T as tr,c as It,e as rr,f as sr,j as p,s as ye,h as Pe,k as Ke,l as mt,m as we,n as _e,P as Ut,B as ir,o as nr,R as re,p as Bt,q as or,t as Y,S as he,v as ce,i as ar}from"../chunks/chunk-DUyRAoFp.js";import{T as oe}from"../chunks/chunk-DhCOsqKO.js";import{B as rt}from"../chunks/chunk-_EqymTxb.js";import{u as lr}from"../chunks/chunk-9Z7t-v9I.js";import"../chunks/chunk-BNnKnf8m.js";/* empty css                      */function dr(e){return He("MuiCollapse",e)}Ge("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const cr=e=>{const{orientation:t,classes:r}=e,i={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return Ke(i,dr,r)},ur=ye("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.orientation],r.state==="entered"&&t.entered,r.state==="exited"&&!r.in&&r.collapsedSize==="0px"&&t.hidden]}})(we(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),fr=ye("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),pr=ye("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),st=z.forwardRef(function(t,r){const i=Je({props:t,name:"MuiCollapse"}),{addEndListener:a,children:o,className:d,collapsedSize:c="0px",component:b,easing:C,in:v,onEnter:R,onEntered:m,onEntering:I,onExit:j,onExited:F,onExiting:J,orientation:B="vertical",style:x,timeout:V=er.standard,TransitionComponent:D=tr,...k}=i,te={...i,orientation:B,collapsedSize:c},M=cr(te),se=It(),K=rr(),L=z.useRef(null),W=z.useRef(),w=typeof c=="number"?`${c}px`:c,A=B==="horizontal",_=A?"width":"height",U=z.useRef(null),H=sr(r,U),q=S=>X=>{if(S){const Z=U.current;X===void 0?S(Z):S(Z,X)}},ne=()=>L.current?L.current[A?"clientWidth":"clientHeight"]:0,me=q((S,X)=>{L.current&&A&&(L.current.style.position="absolute"),S.style[_]=w,R&&R(S,X)}),Ae=q((S,X)=>{const Z=ne();L.current&&A&&(L.current.style.position="");const{duration:fe,easing:ge}=mt({style:x,timeout:V,easing:C},{mode:"enter"});if(V==="auto"){const Be=se.transitions.getAutoHeightDuration(Z);S.style.transitionDuration=`${Be}ms`,W.current=Be}else S.style.transitionDuration=typeof fe=="string"?fe:`${fe}ms`;S.style[_]=`${Z}px`,S.style.transitionTimingFunction=ge,I&&I(S,X)}),Le=q((S,X)=>{S.style[_]="auto",m&&m(S,X)}),Ye=q(S=>{S.style[_]=`${ne()}px`,j&&j(S)}),Ie=q(F),Qe=q(S=>{const X=ne(),{duration:Z,easing:fe}=mt({style:x,timeout:V,easing:C},{mode:"exit"});if(V==="auto"){const ge=se.transitions.getAutoHeightDuration(X);S.style.transitionDuration=`${ge}ms`,W.current=ge}else S.style.transitionDuration=typeof Z=="string"?Z:`${Z}ms`;S.style[_]=w,S.style.transitionTimingFunction=fe,J&&J(S)}),Ue=S=>{V==="auto"&&K.start(W.current||0,S),a&&a(U.current,S)};return p.jsx(D,{in:v,onEnter:me,onEntered:Le,onEntering:Ae,onExit:Ye,onExited:Ie,onExiting:Qe,addEndListener:Ue,nodeRef:U,timeout:V==="auto"?null:V,...k,children:(S,{ownerState:X,...Z})=>p.jsx(ur,{as:b,className:Pe(M.root,d,{entered:M.entered,exited:!v&&w==="0px"&&M.hidden}[S]),style:{[A?"minWidth":"minHeight"]:w,...x},ref:H,ownerState:{...te,state:S},...Z,children:p.jsx(fr,{ownerState:{...te,state:S},className:M.wrapper,ref:L,children:p.jsx(pr,{ownerState:{...te,state:S},className:M.wrapperInner,children:o})})})})});st&&(st.muiSupportAuto=!0);const Mt=z.createContext({});function hr(e){return He("MuiAccordion",e)}const We=Ge("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),yr=e=>{const{classes:t,square:r,expanded:i,disabled:a,disableGutters:o}=e;return Ke({root:["root",!r&&"rounded",i&&"expanded",a&&"disabled",!o&&"gutters"],heading:["heading"],region:["region"]},hr,t)},mr=ye(Ut,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${We.region}`]:t.region},t.root,!r.square&&t.rounded,!r.disableGutters&&t.gutters]}})(we(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${We.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${We.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}}),we(({theme:e})=>({variants:[{props:t=>!t.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:t=>!t.disableGutters,style:{[`&.${We.expanded}`]:{margin:"16px 0"}}}]}))),gr=ye("h3",{name:"MuiAccordion",slot:"Heading"})({all:"unset"}),gt=z.forwardRef(function(t,r){const i=Je({props:t,name:"MuiAccordion"}),{children:a,className:o,defaultExpanded:d=!1,disabled:c=!1,disableGutters:b=!1,expanded:C,onChange:v,square:R=!1,slots:m={},slotProps:I={},TransitionComponent:j,TransitionProps:F,...J}=i,[B,x]=lr({controlled:C,default:d,name:"Accordion",state:"expanded"}),V=z.useCallback(ne=>{x(!B),v&&v(ne,!B)},[B,v,x]),[D,...k]=z.Children.toArray(a),te=z.useMemo(()=>({expanded:B,disabled:c,disableGutters:b,toggle:V}),[B,c,b,V]),M={...i,square:R,disabled:c,disableGutters:b,expanded:B},se=yr(M),K={transition:j,...m},L={transition:F,...I},W={slots:K,slotProps:L},[w,A]=_e("root",{elementType:mr,externalForwardedProps:{...W,...J},className:Pe(se.root,o),shouldForwardComponentProp:!0,ownerState:M,ref:r,additionalProps:{square:R}}),[_,U]=_e("heading",{elementType:gr,externalForwardedProps:W,className:se.heading,ownerState:M}),[H,q]=_e("transition",{elementType:st,externalForwardedProps:W,ownerState:M});return p.jsxs(w,{...A,children:[p.jsx(_,{...U,children:p.jsx(Mt.Provider,{value:te,children:D})}),p.jsx(H,{in:B,timeout:"auto",...q,children:p.jsx("div",{"aria-labelledby":D.props.id,id:D.props["aria-controls"],role:"region",className:se.region,children:k})})]})});function xr(e){return He("MuiAccordionDetails",e)}Ge("MuiAccordionDetails",["root"]);const br=e=>{const{classes:t}=e;return Ke({root:["root"]},xr,t)},vr=ye("div",{name:"MuiAccordionDetails",slot:"Root"})(we(({theme:e})=>({padding:e.spacing(1,2,2)}))),xt=z.forwardRef(function(t,r){const i=Je({props:t,name:"MuiAccordionDetails"}),{className:a,...o}=i,d=i,c=br(d);return p.jsx(vr,{className:Pe(c.root,a),ref:r,ownerState:d,...o})});function wr(e){return He("MuiAccordionSummary",e)}const Fe=Ge("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),Ar=e=>{const{classes:t,expanded:r,disabled:i,disableGutters:a}=e;return Ke({root:["root",r&&"expanded",i&&"disabled",!a&&"gutters"],focusVisible:["focusVisible"],content:["content",r&&"expanded",!a&&"contentGutters"],expandIconWrapper:["expandIconWrapper",r&&"expanded"]},wr,t)},Sr=ye(ir,{name:"MuiAccordionSummary",slot:"Root"})(we(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{display:"flex",width:"100%",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],t),[`&.${Fe.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Fe.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${Fe.disabled})`]:{cursor:"pointer"},variants:[{props:r=>!r.disableGutters,style:{[`&.${Fe.expanded}`]:{minHeight:64}}}]}})),Rr=ye("span",{name:"MuiAccordionSummary",slot:"Content"})(we(({theme:e})=>({display:"flex",textAlign:"start",flexGrow:1,margin:"12px 0",variants:[{props:t=>!t.disableGutters,style:{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${Fe.expanded}`]:{margin:"20px 0"}}}]}))),Vr=ye("span",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper"})(we(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${Fe.expanded}`]:{transform:"rotate(180deg)"}}))),bt=z.forwardRef(function(t,r){const i=Je({props:t,name:"MuiAccordionSummary"}),{children:a,className:o,expandIcon:d,focusVisibleClassName:c,onClick:b,slots:C,slotProps:v,...R}=i,{disabled:m=!1,disableGutters:I,expanded:j,toggle:F}=z.useContext(Mt),J=L=>{F&&F(L),b&&b(L)},B={...i,expanded:j,disabled:m,disableGutters:I},x=Ar(B),V={slots:C,slotProps:v},[D,k]=_e("root",{ref:r,shouldForwardComponentProp:!0,className:Pe(x.root,o),elementType:Sr,externalForwardedProps:{...V,...R},ownerState:B,additionalProps:{focusRipple:!1,disableRipple:!0,disabled:m,"aria-expanded":j,focusVisibleClassName:Pe(x.focusVisible,c)},getSlotProps:L=>({...L,onClick:W=>{L.onClick?.(W),J(W)}})}),[te,M]=_e("content",{className:x.content,elementType:Rr,externalForwardedProps:V,ownerState:B}),[se,K]=_e("expandIconWrapper",{className:x.expandIconWrapper,elementType:Vr,externalForwardedProps:V,ownerState:B});return p.jsxs(D,{...k,children:[p.jsx(te,{...M,children:a}),d&&p.jsx(se,{...K,children:d})]})}),vt=nr(p.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}));var je=e=>e.type==="checkbox",ve=e=>e instanceof Date,Q=e=>e==null;const Wt=e=>typeof e=="object";var N=e=>!Q(e)&&!Array.isArray(e)&&Wt(e)&&!ve(e),Fr=e=>N(e)&&e.target?je(e.target)?e.target.checked:e.target.value:e,_r=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Tr=(e,t)=>e.has(_r(t)),Dr=e=>{const t=e.constructor&&e.constructor.prototype;return N(t)&&t.hasOwnProperty("isPrototypeOf")},nt=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function G(e){let t;const r=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(nt&&(e instanceof Blob||i))&&(r||N(e)))if(t=r?[]:{},!r&&!Dr(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=G(e[a]));else return e;return t}var Xe=e=>/^\w*$/.test(e),$=e=>e===void 0,ot=e=>Array.isArray(e)?e.filter(Boolean):[],at=e=>ot(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,t,r)=>{if(!t||!N(e))return r;const i=(Xe(t)?[t]:at(t)).reduce((a,o)=>Q(a)?a:a[o],e);return $(i)||i===e?$(e[t])?r:e[t]:i},de=e=>typeof e=="boolean",P=(e,t,r)=>{let i=-1;const a=Xe(t)?[t]:at(t),o=a.length,d=o-1;for(;++i<o;){const c=a[i];let b=r;if(i!==d){const C=e[c];b=N(C)||Array.isArray(C)?C:isNaN(+a[i+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=b,e=e[c]}};const wt={BLUR:"blur",FOCUS_OUT:"focusout"},ae={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},pe={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Er=re.createContext(null);Er.displayName="HookFormContext";var kr=(e,t,r,i=!0)=>{const a={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(a,o,{get:()=>{const d=o;return t._proxyFormState[d]!==ae.all&&(t._proxyFormState[d]=!i||ae.all),e[d]}});return a};const Cr=typeof window<"u"?re.useLayoutEffect:re.useEffect;var ue=e=>typeof e=="string",Pr=(e,t,r,i,a)=>ue(e)?(i&&t.watch.add(e),y(r,e,a)):Array.isArray(e)?e.map(o=>(i&&t.watch.add(o),y(r,o))):(i&&(t.watchAll=!0),r),it=e=>Q(e)||!Wt(e);function be(e,t,r=new WeakSet){if(it(e)||it(t))return e===t;if(ve(e)&&ve(t))return e.getTime()===t.getTime();const i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const o of i){const d=e[o];if(!a.includes(o))return!1;if(o!=="ref"){const c=t[o];if(ve(d)&&ve(c)||N(d)&&N(c)||Array.isArray(d)&&Array.isArray(c)?!be(d,c,r):d!==c)return!1}}return!0}var jr=(e,t,r,i,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[i]:a||!0}}:{},ke=e=>Array.isArray(e)?e:[e],At=()=>{let e=[];return{get observers(){return e},next:a=>{for(const o of e)o.next&&o.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(o=>o!==a)}}),unsubscribe:()=>{e=[]}}},ee=e=>N(e)&&!Object.keys(e).length,lt=e=>e.type==="file",le=e=>typeof e=="function",Oe=e=>{if(!nt)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Nt=e=>e.type==="select-multiple",dt=e=>e.type==="radio",Lr=e=>dt(e)||je(e),tt=e=>Oe(e)&&e.isConnected;function Ir(e,t){const r=t.slice(0,-1).length;let i=0;for(;i<r;)e=$(e)?i++:e[t[i++]];return e}function Ur(e){for(const t in e)if(e.hasOwnProperty(t)&&!$(e[t]))return!1;return!0}function O(e,t){const r=Array.isArray(t)?t:Xe(t)?[t]:at(t),i=r.length===1?e:Ir(e,r),a=r.length-1,o=r[a];return i&&delete i[o],a!==0&&(N(i)&&ee(i)||Array.isArray(i)&&Ur(i))&&O(e,r.slice(0,-1)),e}var Ot=e=>{for(const t in e)if(le(e[t]))return!0;return!1};function $e(e,t={}){const r=Array.isArray(e);if(N(e)||r)for(const i in e)Array.isArray(e[i])||N(e[i])&&!Ot(e[i])?(t[i]=Array.isArray(e[i])?[]:{},$e(e[i],t[i])):Q(e[i])||(t[i]=!0);return t}function $t(e,t,r){const i=Array.isArray(e);if(N(e)||i)for(const a in e)Array.isArray(e[a])||N(e[a])&&!Ot(e[a])?$(t)||it(r[a])?r[a]=Array.isArray(e[a])?$e(e[a],[]):{...$e(e[a])}:$t(e[a],Q(t)?{}:t[a],r[a]):r[a]=!be(e[a],t[a]);return r}var Te=(e,t)=>$t(e,t,$e(t));const St={value:!1,isValid:!1},Rt={value:!0,isValid:!0};var qt=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!$(e[0].attributes.value)?$(e[0].value)||e[0].value===""?Rt:{value:e[0].value,isValid:!0}:Rt:St}return St},zt=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:i})=>$(e)?e:t?e===""?NaN:e&&+e:r&&ue(e)?new Date(e):i?i(e):e;const Vt={isValid:!1,value:null};var Ht=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Vt):Vt;function Ft(e){const t=e.ref;return lt(t)?t.files:dt(t)?Ht(e.refs).value:Nt(t)?[...t.selectedOptions].map(({value:r})=>r):je(t)?qt(e.refs).value:zt($(t.value)?e.ref.value:t.value,e)}var Br=(e,t,r,i)=>{const a={};for(const o of e){const d=y(t,o);d&&P(a,o,d._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:i}},qe=e=>e instanceof RegExp,De=e=>$(e)?e:qe(e)?e.source:N(e)?qe(e.value)?e.value.source:e.value:e,_t=e=>({isOnSubmit:!e||e===ae.onSubmit,isOnBlur:e===ae.onBlur,isOnChange:e===ae.onChange,isOnAll:e===ae.all,isOnTouch:e===ae.onTouched});const Tt="AsyncFunction";var Mr=e=>!!e&&!!e.validate&&!!(le(e.validate)&&e.validate.constructor.name===Tt||N(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Tt)),Wr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Dt=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const Ce=(e,t,r,i)=>{for(const a of r||Object.keys(e)){const o=y(e,a);if(o){const{_f:d,...c}=o;if(d){if(d.refs&&d.refs[0]&&t(d.refs[0],a)&&!i)return!0;if(d.ref&&t(d.ref,d.name)&&!i)return!0;if(Ce(c,t))break}else if(N(c)&&Ce(c,t))break}}};function Et(e,t,r){const i=y(e,r);if(i||Xe(r))return{error:i,name:r};const a=r.split(".");for(;a.length;){const o=a.join("."),d=y(t,o),c=y(e,o);if(d&&!Array.isArray(d)&&r!==o)return{name:r};if(c&&c.type)return{name:o,error:c};if(c&&c.root&&c.root.type)return{name:`${o}.root`,error:c.root};a.pop()}return{name:r}}var Nr=(e,t,r,i)=>{r(e);const{name:a,...o}=e;return ee(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(d=>t[d]===(!i||ae.all))},Or=(e,t,r)=>!e||!t||e===t||ke(e).some(i=>i&&(r?i===t:i.startsWith(t)||t.startsWith(i))),$r=(e,t,r,i,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?i.isOnBlur:a.isOnBlur)?!e:(r?i.isOnChange:a.isOnChange)?e:!0,qr=(e,t)=>!ot(y(e,t)).length&&O(e,t),zr=(e,t,r)=>{const i=ke(y(e,r));return P(i,"root",t[r]),P(e,r,i),e},Ne=e=>ue(e);function kt(e,t,r="validate"){if(Ne(e)||Array.isArray(e)&&e.every(Ne)||de(e)&&!e)return{type:r,message:Ne(e)?e:"",ref:t}}var Se=e=>N(e)&&!qe(e)?e:{value:e,message:""},Ct=async(e,t,r,i,a,o)=>{const{ref:d,refs:c,required:b,maxLength:C,minLength:v,min:R,max:m,pattern:I,validate:j,name:F,valueAsNumber:J,mount:B}=e._f,x=y(r,F);if(!B||t.has(F))return{};const V=c?c[0]:d,D=w=>{a&&V.reportValidity&&(V.setCustomValidity(de(w)?"":w||""),V.reportValidity())},k={},te=dt(d),M=je(d),se=te||M,K=(J||lt(d))&&$(d.value)&&$(x)||Oe(d)&&d.value===""||x===""||Array.isArray(x)&&!x.length,L=jr.bind(null,F,i,k),W=(w,A,_,U=pe.maxLength,H=pe.minLength)=>{const q=w?A:_;k[F]={type:w?U:H,message:q,ref:d,...L(w?U:H,q)}};if(o?!Array.isArray(x)||!x.length:b&&(!se&&(K||Q(x))||de(x)&&!x||M&&!qt(c).isValid||te&&!Ht(c).isValid)){const{value:w,message:A}=Ne(b)?{value:!!b,message:b}:Se(b);if(w&&(k[F]={type:pe.required,message:A,ref:V,...L(pe.required,A)},!i))return D(A),k}if(!K&&(!Q(R)||!Q(m))){let w,A;const _=Se(m),U=Se(R);if(!Q(x)&&!isNaN(x)){const H=d.valueAsNumber||x&&+x;Q(_.value)||(w=H>_.value),Q(U.value)||(A=H<U.value)}else{const H=d.valueAsDate||new Date(x),q=Ae=>new Date(new Date().toDateString()+" "+Ae),ne=d.type=="time",me=d.type=="week";ue(_.value)&&x&&(w=ne?q(x)>q(_.value):me?x>_.value:H>new Date(_.value)),ue(U.value)&&x&&(A=ne?q(x)<q(U.value):me?x<U.value:H<new Date(U.value))}if((w||A)&&(W(!!w,_.message,U.message,pe.max,pe.min),!i))return D(k[F].message),k}if((C||v)&&!K&&(ue(x)||o&&Array.isArray(x))){const w=Se(C),A=Se(v),_=!Q(w.value)&&x.length>+w.value,U=!Q(A.value)&&x.length<+A.value;if((_||U)&&(W(_,w.message,A.message),!i))return D(k[F].message),k}if(I&&!K&&ue(x)){const{value:w,message:A}=Se(I);if(qe(w)&&!x.match(w)&&(k[F]={type:pe.pattern,message:A,ref:d,...L(pe.pattern,A)},!i))return D(A),k}if(j){if(le(j)){const w=await j(x,r),A=kt(w,V);if(A&&(k[F]={...A,...L(pe.validate,A.message)},!i))return D(A.message),k}else if(N(j)){let w={};for(const A in j){if(!ee(w)&&!i)break;const _=kt(await j[A](x,r),V,A);_&&(w={..._,...L(A,_.message)},D(_.message),i&&(k[F]=w))}if(!ee(w)&&(k[F]={ref:V,...w},!i))return k}}return D(!0),k};const Hr={mode:ae.onSubmit,reValidateMode:ae.onChange,shouldFocusError:!0};function Gr(e={}){let t={...Hr,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:le(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},i={},a=N(t.defaultValues)||N(t.values)?G(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:G(a),d={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},b,C=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let R={...v};const m={array:At(),state:At()},I=t.criteriaMode===ae.all,j=s=>n=>{clearTimeout(C),C=setTimeout(s,n)},F=async s=>{if(!t.disabled&&(v.isValid||R.isValid||s)){const n=t.resolver?ee((await M()).errors):await K(i,!0);n!==r.isValid&&m.state.next({isValid:n})}},J=(s,n)=>{!t.disabled&&(v.isValidating||v.validatingFields||R.isValidating||R.validatingFields)&&((s||Array.from(c.mount)).forEach(l=>{l&&(n?P(r.validatingFields,l,n):O(r.validatingFields,l))}),m.state.next({validatingFields:r.validatingFields,isValidating:!ee(r.validatingFields)}))},B=(s,n=[],l,h,f=!0,u=!0)=>{if(h&&l&&!t.disabled){if(d.action=!0,u&&Array.isArray(y(i,s))){const g=l(y(i,s),h.argA,h.argB);f&&P(i,s,g)}if(u&&Array.isArray(y(r.errors,s))){const g=l(y(r.errors,s),h.argA,h.argB);f&&P(r.errors,s,g),qr(r.errors,s)}if((v.touchedFields||R.touchedFields)&&u&&Array.isArray(y(r.touchedFields,s))){const g=l(y(r.touchedFields,s),h.argA,h.argB);f&&P(r.touchedFields,s,g)}(v.dirtyFields||R.dirtyFields)&&(r.dirtyFields=Te(a,o)),m.state.next({name:s,isDirty:W(s,n),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else P(o,s,n)},x=(s,n)=>{P(r.errors,s,n),m.state.next({errors:r.errors})},V=s=>{r.errors=s,m.state.next({errors:r.errors,isValid:!1})},D=(s,n,l,h)=>{const f=y(i,s);if(f){const u=y(o,s,$(l)?y(a,s):l);$(u)||h&&h.defaultChecked||n?P(o,s,n?u:Ft(f._f)):_(s,u),d.mount&&F()}},k=(s,n,l,h,f)=>{let u=!1,g=!1;const T={name:s};if(!t.disabled){if(!l||h){(v.isDirty||R.isDirty)&&(g=r.isDirty,r.isDirty=T.isDirty=W(),u=g!==T.isDirty);const E=be(y(a,s),n);g=!!y(r.dirtyFields,s),E?O(r.dirtyFields,s):P(r.dirtyFields,s,!0),T.dirtyFields=r.dirtyFields,u=u||(v.dirtyFields||R.dirtyFields)&&g!==!E}if(l){const E=y(r.touchedFields,s);E||(P(r.touchedFields,s,l),T.touchedFields=r.touchedFields,u=u||(v.touchedFields||R.touchedFields)&&E!==l)}u&&f&&m.state.next(T)}return u?T:{}},te=(s,n,l,h)=>{const f=y(r.errors,s),u=(v.isValid||R.isValid)&&de(n)&&r.isValid!==n;if(t.delayError&&l?(b=j(()=>x(s,l)),b(t.delayError)):(clearTimeout(C),b=null,l?P(r.errors,s,l):O(r.errors,s)),(l?!be(f,l):f)||!ee(h)||u){const g={...h,...u&&de(n)?{isValid:n}:{},errors:r.errors,name:s};r={...r,...g},m.state.next(g)}},M=async s=>{J(s,!0);const n=await t.resolver(o,t.context,Br(s||c.mount,i,t.criteriaMode,t.shouldUseNativeValidation));return J(s),n},se=async s=>{const{errors:n}=await M(s);if(s)for(const l of s){const h=y(n,l);h?P(r.errors,l,h):O(r.errors,l)}else r.errors=n;return n},K=async(s,n,l={valid:!0})=>{for(const h in s){const f=s[h];if(f){const{_f:u,...g}=f;if(u){const T=c.array.has(u.name),E=f._f&&Mr(f._f);E&&v.validatingFields&&J([h],!0);const ie=await Ct(f,c.disabled,o,I,t.shouldUseNativeValidation&&!n,T);if(E&&v.validatingFields&&J([h]),ie[u.name]&&(l.valid=!1,n))break;!n&&(y(ie,u.name)?T?zr(r.errors,ie,u.name):P(r.errors,u.name,ie[u.name]):O(r.errors,u.name))}!ee(g)&&await K(g,n,l)}}return l.valid},L=()=>{for(const s of c.unMount){const n=y(i,s);n&&(n._f.refs?n._f.refs.every(l=>!tt(l)):!tt(n._f.ref))&&X(s)}c.unMount=new Set},W=(s,n)=>!t.disabled&&(s&&n&&P(o,s,n),!be(Ae(),a)),w=(s,n,l)=>Pr(s,c,{...d.mount?o:$(n)?a:ue(s)?{[s]:n}:n},l,n),A=s=>ot(y(d.mount?o:a,s,t.shouldUnregister?y(a,s,[]):[])),_=(s,n,l={})=>{const h=y(i,s);let f=n;if(h){const u=h._f;u&&(!u.disabled&&P(o,s,zt(n,u)),f=Oe(u.ref)&&Q(n)?"":n,Nt(u.ref)?[...u.ref.options].forEach(g=>g.selected=f.includes(g.value)):u.refs?je(u.ref)?u.refs.forEach(g=>{(!g.defaultChecked||!g.disabled)&&(Array.isArray(f)?g.checked=!!f.find(T=>T===g.value):g.checked=f===g.value||!!f)}):u.refs.forEach(g=>g.checked=g.value===f):lt(u.ref)?u.ref.value="":(u.ref.value=f,u.ref.type||m.state.next({name:s,values:G(o)})))}(l.shouldDirty||l.shouldTouch)&&k(s,f,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&me(s)},U=(s,n,l)=>{for(const h in n){if(!n.hasOwnProperty(h))return;const f=n[h],u=s+"."+h,g=y(i,u);(c.array.has(s)||N(f)||g&&!g._f)&&!ve(f)?U(u,f,l):_(u,f,l)}},H=(s,n,l={})=>{const h=y(i,s),f=c.array.has(s),u=G(n);P(o,s,u),f?(m.array.next({name:s,values:G(o)}),(v.isDirty||v.dirtyFields||R.isDirty||R.dirtyFields)&&l.shouldDirty&&m.state.next({name:s,dirtyFields:Te(a,o),isDirty:W(s,u)})):h&&!h._f&&!Q(u)?U(s,u,l):_(s,u,l),Dt(s,c)&&m.state.next({...r,name:s}),m.state.next({name:d.mount?s:void 0,values:G(o)})},q=async s=>{d.mount=!0;const n=s.target;let l=n.name,h=!0;const f=y(i,l),u=E=>{h=Number.isNaN(E)||ve(E)&&isNaN(E.getTime())||be(E,y(o,l,E))},g=_t(t.mode),T=_t(t.reValidateMode);if(f){let E,ie;const Me=n.type?Ft(f._f):Fr(s),xe=s.type===wt.BLUR||s.type===wt.FOCUS_OUT,Yt=!Wr(f._f)&&!t.resolver&&!y(r.errors,l)&&!f._f.deps||$r(xe,y(r.touchedFields,l),r.isSubmitted,T,g),Ze=Dt(l,c,xe);P(o,l,Me),xe?(f._f.onBlur&&f._f.onBlur(s),b&&b(0)):f._f.onChange&&f._f.onChange(s);const et=k(l,Me,xe),Qt=!ee(et)||Ze;if(!xe&&m.state.next({name:l,type:s.type,values:G(o)}),Yt)return(v.isValid||R.isValid)&&(t.mode==="onBlur"?xe&&F():xe||F()),Qt&&m.state.next({name:l,...Ze?{}:et});if(!xe&&Ze&&m.state.next({...r}),t.resolver){const{errors:ht}=await M([l]);if(u(Me),h){const Zt=Et(r.errors,i,l),yt=Et(ht,i,Zt.name||l);E=yt.error,l=yt.name,ie=ee(ht)}}else J([l],!0),E=(await Ct(f,c.disabled,o,I,t.shouldUseNativeValidation))[l],J([l]),u(Me),h&&(E?ie=!1:(v.isValid||R.isValid)&&(ie=await K(i,!0)));h&&(f._f.deps&&me(f._f.deps),te(l,ie,E,et))}},ne=(s,n)=>{if(y(r.errors,n)&&s.focus)return s.focus(),1},me=async(s,n={})=>{let l,h;const f=ke(s);if(t.resolver){const u=await se($(s)?s:f);l=ee(u),h=s?!f.some(g=>y(u,g)):l}else s?(h=(await Promise.all(f.map(async u=>{const g=y(i,u);return await K(g&&g._f?{[u]:g}:g)}))).every(Boolean),!(!h&&!r.isValid)&&F()):h=l=await K(i);return m.state.next({...!ue(s)||(v.isValid||R.isValid)&&l!==r.isValid?{}:{name:s},...t.resolver||!s?{isValid:l}:{},errors:r.errors}),n.shouldFocus&&!h&&Ce(i,ne,s?f:c.mount),h},Ae=s=>{const n={...d.mount?o:a};return $(s)?n:ue(s)?y(n,s):s.map(l=>y(n,l))},Le=(s,n)=>({invalid:!!y((n||r).errors,s),isDirty:!!y((n||r).dirtyFields,s),error:y((n||r).errors,s),isValidating:!!y(r.validatingFields,s),isTouched:!!y((n||r).touchedFields,s)}),Ye=s=>{s&&ke(s).forEach(n=>O(r.errors,n)),m.state.next({errors:s?r.errors:{}})},Ie=(s,n,l)=>{const h=(y(i,s,{_f:{}})._f||{}).ref,f=y(r.errors,s)||{},{ref:u,message:g,type:T,...E}=f;P(r.errors,s,{...E,...n,ref:h}),m.state.next({name:s,errors:r.errors,isValid:!1}),l&&l.shouldFocus&&h&&h.focus&&h.focus()},Qe=(s,n)=>le(s)?m.state.subscribe({next:l=>"values"in l&&s(w(void 0,n),l)}):w(s,n,!0),Ue=s=>m.state.subscribe({next:n=>{Or(s.name,n.name,s.exact)&&Nr(n,s.formState||v,Xt,s.reRenderRoot)&&s.callback({values:{...o},...r,...n,defaultValues:a})}}).unsubscribe,S=s=>(d.mount=!0,R={...R,...s.formState},Ue({...s,formState:R})),X=(s,n={})=>{for(const l of s?ke(s):c.mount)c.mount.delete(l),c.array.delete(l),n.keepValue||(O(i,l),O(o,l)),!n.keepError&&O(r.errors,l),!n.keepDirty&&O(r.dirtyFields,l),!n.keepTouched&&O(r.touchedFields,l),!n.keepIsValidating&&O(r.validatingFields,l),!t.shouldUnregister&&!n.keepDefaultValue&&O(a,l);m.state.next({values:G(o)}),m.state.next({...r,...n.keepDirty?{isDirty:W()}:{}}),!n.keepIsValid&&F()},Z=({disabled:s,name:n})=>{(de(s)&&d.mount||s||c.disabled.has(n))&&(s?c.disabled.add(n):c.disabled.delete(n))},fe=(s,n={})=>{let l=y(i,s);const h=de(n.disabled)||de(t.disabled);return P(i,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...n}}),c.mount.add(s),l?Z({disabled:de(n.disabled)?n.disabled:t.disabled,name:s}):D(s,!0,n.value),{...h?{disabled:n.disabled||t.disabled}:{},...t.progressive?{required:!!n.required,min:De(n.min),max:De(n.max),minLength:De(n.minLength),maxLength:De(n.maxLength),pattern:De(n.pattern)}:{},name:s,onChange:q,onBlur:q,ref:f=>{if(f){fe(s,n),l=y(i,s);const u=$(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,g=Lr(u),T=l._f.refs||[];if(g?T.find(E=>E===u):u===l._f.ref)return;P(i,s,{_f:{...l._f,...g?{refs:[...T.filter(tt),u,...Array.isArray(y(a,s))?[{}]:[]],ref:{type:u.type,name:s}}:{ref:u}}}),D(s,!1,void 0,u)}else l=y(i,s,{}),l._f&&(l._f.mount=!1),(t.shouldUnregister||n.shouldUnregister)&&!(Tr(c.array,s)&&d.action)&&c.unMount.add(s)}}},ge=()=>t.shouldFocusError&&Ce(i,ne,c.mount),Be=s=>{de(s)&&(m.state.next({disabled:s}),Ce(i,(n,l)=>{const h=y(i,l);h&&(n.disabled=h._f.disabled||s,Array.isArray(h._f.refs)&&h._f.refs.forEach(f=>{f.disabled=h._f.disabled||s}))},0,!1))},ct=(s,n)=>async l=>{let h;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let f=G(o);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:u,values:g}=await M();r.errors=u,f=G(g)}else await K(i);if(c.disabled.size)for(const u of c.disabled)O(f,u);if(O(r.errors,"root"),ee(r.errors)){m.state.next({errors:{}});try{await s(f,l)}catch(u){h=u}}else n&&await n({...r.errors},l),ge(),setTimeout(ge);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ee(r.errors)&&!h,submitCount:r.submitCount+1,errors:r.errors}),h)throw h},Jt=(s,n={})=>{y(i,s)&&($(n.defaultValue)?H(s,G(y(a,s))):(H(s,n.defaultValue),P(a,s,G(n.defaultValue))),n.keepTouched||O(r.touchedFields,s),n.keepDirty||(O(r.dirtyFields,s),r.isDirty=n.defaultValue?W(s,G(y(a,s))):W()),n.keepError||(O(r.errors,s),v.isValid&&F()),m.state.next({...r}))},ut=(s,n={})=>{const l=s?G(s):a,h=G(l),f=ee(s),u=f?a:h;if(n.keepDefaultValues||(a=l),!n.keepValues){if(n.keepDirtyValues){const g=new Set([...c.mount,...Object.keys(Te(a,o))]);for(const T of Array.from(g))y(r.dirtyFields,T)?P(u,T,y(o,T)):H(T,y(u,T))}else{if(nt&&$(s))for(const g of c.mount){const T=y(i,g);if(T&&T._f){const E=Array.isArray(T._f.refs)?T._f.refs[0]:T._f.ref;if(Oe(E)){const ie=E.closest("form");if(ie){ie.reset();break}}}}if(n.keepFieldsRef)for(const g of c.mount)H(g,y(u,g));else i={}}o=t.shouldUnregister?n.keepDefaultValues?G(a):{}:G(u),m.array.next({values:{...u}}),m.state.next({values:{...u}})}c={mount:n.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!v.isValid||!!n.keepIsValid||!!n.keepDirtyValues,d.watch=!!t.shouldUnregister,m.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:f?!1:n.keepDirty?r.isDirty:!!(n.keepDefaultValues&&!be(s,a)),isSubmitted:n.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:f?{}:n.keepDirtyValues?n.keepDefaultValues&&o?Te(a,o):r.dirtyFields:n.keepDefaultValues&&s?Te(a,s):n.keepDirty?r.dirtyFields:{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitSuccessful:n.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ft=(s,n)=>ut(le(s)?s(o):s,n),Kt=(s,n={})=>{const l=y(i,s),h=l&&l._f;if(h){const f=h.refs?h.refs[0]:h.ref;f.focus&&(f.focus(),n.shouldSelect&&le(f.select)&&f.select())}},Xt=s=>{r={...r,...s}},pt={control:{register:fe,unregister:X,getFieldState:Le,handleSubmit:ct,setError:Ie,_subscribe:Ue,_runSchema:M,_focusError:ge,_getWatch:w,_getDirty:W,_setValid:F,_setFieldArray:B,_setDisabledField:Z,_setErrors:V,_getFieldArray:A,_reset:ut,_resetDefaultValues:()=>le(t.defaultValues)&&t.defaultValues().then(s=>{ft(s,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:Be,_subjects:m,_proxyFormState:v,get _fields(){return i},get _formValues(){return o},get _state(){return d},set _state(s){d=s},get _defaultValues(){return a},get _names(){return c},set _names(s){c=s},get _formState(){return r},get _options(){return t},set _options(s){t={...t,...s}}},subscribe:S,trigger:me,register:fe,handleSubmit:ct,watch:Qe,setValue:H,getValues:Ae,reset:ft,resetField:Jt,clearErrors:Ye,unregister:X,setError:Ie,setFocus:Kt,getFieldState:Le};return{...pt,formControl:pt}}function Gt(e={}){const t=re.useRef(void 0),r=re.useRef(void 0),[i,a]=re.useState({isDirty:!1,isValidating:!1,isLoading:le(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:le(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:i},e.defaultValues&&!le(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:d,...c}=Gr(e);t.current={...c,formState:i}}const o=t.current.control;return o._options=e,Cr(()=>{const d=o._subscribe({formState:o._proxyFormState,callback:()=>a({...o._formState}),reRenderRoot:!0});return a(c=>({...c,isReady:!0})),o._formState.isReady=!0,d},[o]),re.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),re.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),re.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),re.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),re.useEffect(()=>{if(o._proxyFormState.isDirty){const d=o._getDirty();d!==i.isDirty&&o._subjects.state.next({isDirty:d})}},[o,i.isDirty]),re.useEffect(()=>{e.values&&!be(e.values,r.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),r.current=e.values,a(d=>({...d}))):o._resetDefaultValues()},[o,e.values]),re.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=kr(i,o),t.current}const Jr={"Content-Type":"application/json"},Pt=e=>e.split(",").map(t=>t.trim()).filter(Boolean),Kr=e=>e.endsWith(".json")?e:`${e}.json`,Xr=e=>{if(e.media_metadata){const t=e.media_metadata;return Object.entries(t).map(([r,i])=>{const a=i.m?.includes("png")?"png":"jpg";return`https://i.redd.it/${r}.${a}`})}return e.url?[e.url]:[]},Yr=({date:e,reddit:t,urls:r,src:i,desc:a,artistId:o,characterIds:d})=>({date:e,reddit:ze(t),url:Pt(r),src:i,desc:a,artistId:o,characterIds:Pt(d)}),Qr=async e=>{const t=await fetch("/api/posts",{method:"POST",headers:Jr,body:JSON.stringify(Yr(e))}),r=await t.json();if(!t.ok)throw new Error(r.error||"Failed to add post")},Zr=e=>{const t=e.trim();return Bt.some(i=>i.id===t)||"Artist ID does not exist."},ze=e=>{if(!e)return"";try{const t=new URL(e);t.hostname==="old.reddit.com"&&(t.hostname="www.reddit.com");const{origin:r,pathname:i}=t,a=i.split("/").filter(Boolean);return a.length>=4&&a[0]==="r"&&a[2]==="comments"?`${r}/${a.slice(0,4).join("/")}`:""}catch{return""}},es=async e=>{if(!e)return null;try{const t=await fetch(Kr(e));if(!t.ok)throw new Error("Failed to fetch Reddit data");const i=(await t.json())[0]?.data?.children[0]?.data;if(!i)throw new Error("Invalid Reddit data structure");const a=i.created_utc?i.created_utc*1e3:null,o=i.selftext??"",d=Xr(i);return{createdDate:a,description:o,imageUrls:d}}catch(t){return console.error("Error fetching Reddit data:",t),null}},jt=(e,t)=>{const r=ze(e.trim());return t?.some(a=>ze(a.reddit)===r)?"This Reddit URL already exists.":!0},Re={containerBox:{maxWidth:900,mx:"auto",p:3},inputBoxSmall:{flex:"1 1 220px",minWidth:220},actionButton:{minWidth:150}},ts=()=>{const{register:e,handleSubmit:t,reset:r,watch:i,setValue:a,getValues:o,setError:d,clearErrors:c,formState:{errors:b,isSubmitting:C}}=Gt(),[v,R]=z.useState(!1),{posts:m}=or(),I=z.useRef(null),j=i("reddit"),F=z.useCallback(x=>{I.current&&clearTimeout(I.current),I.current=setTimeout(()=>{const V=jt(x.trim(),m);V!==!0?d("reddit",{type:"validate",message:V}):c("reddit")},500)},[d,c,m]),J=async x=>{try{await Qr(x),alert("Post added successfully!"),r()}catch(V){alert(`Error: ${V instanceof Error?V.message:"Unknown error"}`)}},B=async()=>{const x=o("reddit");if(!x){alert("Please enter a Reddit URL first.");return}const V=jt(x,m);if(V!==!0){alert(V);return}R(!0);try{const D=await es(ze(x));if(!D){alert("Failed to load Reddit data");return}D.createdDate&&a("date",D.createdDate,{shouldValidate:!0}),D.description&&a("desc",D.description,{shouldValidate:!0}),D.imageUrls?.length&&a("urls",D.imageUrls.join(", "),{shouldValidate:!0})}finally{R(!1)}};return z.useEffect(()=>{if(!j){c("reddit");return}F(j)},[j,F,c]),p.jsx(Y,{sx:Re.containerBox,children:p.jsx("form",{onSubmit:t(J),noValidate:!0,children:p.jsxs(he,{spacing:4,children:[p.jsxs(Y,{children:[p.jsx(ce,{variant:"h6",gutterBottom:!0,children:"Post Details"}),p.jsxs(he,{direction:"row",spacing:2,flexWrap:"wrap",children:[p.jsx(Y,{sx:Re.inputBoxSmall,children:p.jsx(oe,{label:"UNIX Timestamp",type:"number",error:!!b.date,helperText:b.date?.message,fullWidth:!0,...e("date",{required:"Date is required",valueAsNumber:!0}),slotProps:{inputLabel:{shrink:!!i("date")}}})}),p.jsx(Y,{sx:Re.inputBoxSmall,children:p.jsx(oe,{label:"Artist ID",error:!!b.artistId,helperText:b.artistId?.message,fullWidth:!0,...e("artistId",{required:"Artist ID is required",validate:Zr}),slotProps:{inputLabel:{shrink:!!i("artistId")}}})}),p.jsx(Y,{sx:Re.inputBoxSmall,children:p.jsx(oe,{label:"Source URL",error:!!b.src,helperText:b.src?.message,fullWidth:!0,...e("src",{required:"Source URL is required"}),slotProps:{inputLabel:{shrink:!!i("src")}}})})]})]}),p.jsxs(Y,{children:[p.jsx(ce,{variant:"h6",gutterBottom:!0,children:"URLs"}),p.jsxs(he,{spacing:2,children:[p.jsx(oe,{label:"Image URLs (comma separated)",error:!!b.urls,helperText:b.urls?.message,fullWidth:!0,...e("urls",{required:"Image URLs are required"}),slotProps:{inputLabel:{shrink:!!i("urls")}}}),p.jsx(oe,{label:"Character IDs (comma separated)",error:!!b.characterIds,helperText:b.characterIds?.message,fullWidth:!0,...e("characterIds",{required:"Character IDs are required"}),slotProps:{inputLabel:{shrink:!!i("characterIds")}}})]})]}),p.jsxs(Y,{children:[p.jsx(ce,{variant:"h6",gutterBottom:!0,children:"Description"}),p.jsx(oe,{label:"Description",error:!!b.desc,helperText:b.desc?.message,multiline:!0,minRows:6,fullWidth:!0,...e("desc",{required:"Description is required"}),slotProps:{inputLabel:{shrink:!!i("desc")}}})]}),p.jsxs(Y,{children:[p.jsx(ce,{variant:"h6",gutterBottom:!0,children:"Reddit URL"}),p.jsx(oe,{label:"Reddit URL",error:!!b.reddit,helperText:b.reddit?.message,fullWidth:!0,...e("reddit",{required:"Reddit URL is required"}),slotProps:{inputLabel:{shrink:!!i("reddit")}}})]}),p.jsxs(he,{direction:"row",spacing:2,justifyContent:"center",flexWrap:"wrap",children:[p.jsx(rt,{variant:"contained",onClick:B,disabled:v,sx:Re.actionButton,children:v?"Loading...":"Fetch from Reddit"}),p.jsx(rt,{type:"submit",variant:"contained",disabled:C,sx:Re.actionButton,children:C?"Submitting...":"Add Post"})]})]})})})},Lt=["demoman.webp","engineer.webp","heavy.webp","medic.webp","pyro.webp","scout.webp","sniper.webp","soldier.webp","spy.webp"],rs={"Content-Type":"application/json"},ss=/^(https?:\/\/)?(www\.)?x\.com\/.+$/i,is=/^https?:\/\/(www\.)?pixiv\.net\/.+$/i,ns=async e=>{const t=e.trim();return await new Promise(i=>{setTimeout(()=>{i(Bt.some(a=>a.id===t))},200)})?"Artist ID already exists.":!0},os=async e=>{const t=await fetch("/api/artists",{method:"POST",headers:rs,body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.error||"Failed to add artist")},as=()=>{const e=Math.floor(Math.random()*Lt.length);return`/portraits/placeholders/${Lt[e]}`},Ve={containerBox:{maxWidth:600,mx:"auto",p:3},artistIdBox:{flex:"1 1 220px",minWidth:220},nameBox:{flex:"1 1 220px",minWidth:220},twitterBox:{flex:"1 1 260px",minWidth:260},pixivBox:{flex:"1 1 260px",minWidth:260},submitButton:{minWidth:150}},ls=()=>{const{register:e,handleSubmit:t,reset:r,watch:i,setError:a,clearErrors:o,formState:{errors:d,isSubmitting:c}}=Gt(),b=i("id"),C=z.useRef(null),v=z.useCallback(m=>{C.current&&clearTimeout(C.current),C.current=setTimeout(async()=>{const I=await ns(m.trim());typeof I=="string"&&I.length>0?a("id",{type:"validate",message:I}):o("id")},500)},[a,o]),R=async m=>{const I={id:m.id.trim(),name:m.name.trim(),...m.linkTwitter?.trim()&&{linkTwitter:m.linkTwitter.trim()},...m.linkPixiv?.trim()&&{linkPixiv:m.linkPixiv.trim()},portrait:as()};try{await os(I),alert("Artist added successfully!"),r()}catch(j){alert(`Error: ${j instanceof Error?j.message:"Unknown error"}`)}};return z.useEffect(()=>{if(!b){o("id");return}v(b)},[b,v,o]),p.jsx(Y,{sx:Ve.containerBox,children:p.jsx("form",{onSubmit:t(R),noValidate:!0,children:p.jsxs(he,{spacing:3,children:[p.jsxs(Y,{children:[p.jsx(ce,{variant:"h6",gutterBottom:!0,children:"Artist Information"}),p.jsxs(he,{direction:"row",spacing:2,flexWrap:"wrap",children:[p.jsx(Y,{sx:Ve.artistIdBox,children:p.jsx(oe,{label:"Artist ID",error:!!d.id,helperText:d.id?.message,fullWidth:!0,...e("id",{required:"ID is required"}),slotProps:{inputLabel:{shrink:!!i("id")}}})}),p.jsx(Y,{sx:Ve.nameBox,children:p.jsx(oe,{label:"Name",error:!!d.name,helperText:d.name?.message,fullWidth:!0,...e("name",{required:"Name is required"}),slotProps:{inputLabel:{shrink:!!i("name")}}})})]})]}),p.jsxs(Y,{children:[p.jsx(ce,{variant:"h6",gutterBottom:!0,children:"Links"}),p.jsxs(he,{direction:"row",spacing:2,flexWrap:"wrap",children:[p.jsx(Y,{sx:Ve.twitterBox,children:p.jsx(oe,{label:"Twitter Link",error:!!d.linkTwitter,helperText:d.linkTwitter?.message,fullWidth:!0,...e("linkTwitter",{pattern:{value:ss,message:"Invalid Twitter URL"}}),slotProps:{inputLabel:{shrink:!!i("linkTwitter")}}})}),p.jsx(Y,{sx:Ve.pixivBox,children:p.jsx(oe,{label:"Pixiv Link",error:!!d.linkPixiv,helperText:d.linkPixiv?.message,fullWidth:!0,...e("linkPixiv",{pattern:{value:is,message:"Invalid Pixiv URL"}}),slotProps:{inputLabel:{shrink:!!i("linkPixiv")}}})})]})]}),p.jsx(he,{direction:"row",justifyContent:"center",children:p.jsx(rt,{type:"submit",variant:"contained",disabled:c,sx:Ve.submitButton,children:c?"Submitting...":"Add Artist"})})]})})})},Ee={adminContainer:{m:4,p:3,bgcolor:"background.paper",borderRadius:1,boxShadow:3},header:{mb:3,color:"primary.main",fontWeight:600},contentTitle:e=>({mb:2,pb:1,borderBottom:`2px solid ${e.palette.primary.light}`,color:"primary.main"}),paperFullHeight:{p:3,height:"100%"},accordionMargin:{mb:2}},ds=()=>{const e=It();return p.jsxs(he,{sx:Ee.adminContainer,direction:"column",spacing:3,children:[p.jsx(ce,{variant:"h4",component:"h2",sx:Ee.header,children:"Admin Dashboard"}),p.jsxs(Ut,{elevation:3,sx:Ee.paperFullHeight,children:[p.jsx(ce,{variant:"h6",component:"h3",sx:Ee.contentTitle(e),children:"Content Submission"}),p.jsxs(gt,{sx:Ee.accordionMargin,children:[p.jsx(bt,{expandIcon:p.jsx(vt,{}),children:p.jsx(ce,{variant:"subtitle1",children:"Reddit Posts"})}),p.jsx(xt,{children:p.jsx(ts,{})})]}),p.jsxs(gt,{children:[p.jsx(bt,{expandIcon:p.jsx(vt,{}),children:p.jsx(ce,{variant:"subtitle1",children:"Artists"})}),p.jsx(xt,{children:p.jsx(ls,{})})]})]})]})},cs=Object.freeze(Object.defineProperty({__proto__:null,default:ds},Symbol.toStringTag,{value:"Module"})),xs={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"/src/renderer/+onRenderClient.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:ar}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/admin/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:cs}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"/src/renderer/+config.ts",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}}};export{xs as configValuesSerialized};
