import{g as He,a as Ge,r as z,b as Je,d as Zt,T as er,c as It,e as tr,f as rr,j as h,s as ye,h as Pe,k as Ke,l as mt,m as we,n as Te,P as Lt,B as sr,o as ir,R as re,p as Ut,q as nr,t as Y,S as pe,v as ce,i as or}from"../chunks/chunk-DtDn0H7-.js";import{T as oe}from"../chunks/chunk-BVWkszsx.js";import{B as rt}from"../chunks/chunk-D10tSdCD.js";import{u as ar}from"../chunks/chunk-B-Da3mib.js";import"../chunks/chunk-bCiqiqmh.js";/* empty css                      */function lr(e){return He("MuiCollapse",e)}Ge("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const dr=e=>{const{orientation:t,classes:r}=e,i={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return Ke(i,lr,r)},cr=ye("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.orientation],r.state==="entered"&&t.entered,r.state==="exited"&&!r.in&&r.collapsedSize==="0px"&&t.hidden]}})(we(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),ur=ye("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),fr=ye("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),st=z.forwardRef(function(t,r){const i=Je({props:t,name:"MuiCollapse"}),{addEndListener:a,children:o,className:d,collapsedSize:c="0px",component:b,easing:C,in:v,onEnter:V,onEntered:m,onEntering:L,onExit:j,onExited:F,onExiting:J,orientation:B="vertical",style:x,timeout:R=Zt.standard,TransitionComponent:D=er,...E}=i,te={...i,orientation:B,collapsedSize:c},M=dr(te),se=It(),K=tr(),I=z.useRef(null),W=z.useRef(),w=typeof c=="number"?`${c}px`:c,A=B==="horizontal",T=A?"width":"height",U=z.useRef(null),H=rr(r,U),q=S=>X=>{if(S){const Z=U.current;X===void 0?S(Z):S(Z,X)}},ne=()=>I.current?I.current[A?"clientWidth":"clientHeight"]:0,me=q((S,X)=>{I.current&&A&&(I.current.style.position="absolute"),S.style[T]=w,V&&V(S,X)}),Ae=q((S,X)=>{const Z=ne();I.current&&A&&(I.current.style.position="");const{duration:fe,easing:ge}=mt({style:x,timeout:R,easing:C},{mode:"enter"});if(R==="auto"){const Be=se.transitions.getAutoHeightDuration(Z);S.style.transitionDuration=`${Be}ms`,W.current=Be}else S.style.transitionDuration=typeof fe=="string"?fe:`${fe}ms`;S.style[T]=`${Z}px`,S.style.transitionTimingFunction=ge,L&&L(S,X)}),Ie=q((S,X)=>{S.style[T]="auto",m&&m(S,X)}),Ye=q(S=>{S.style[T]=`${ne()}px`,j&&j(S)}),Le=q(F),Qe=q(S=>{const X=ne(),{duration:Z,easing:fe}=mt({style:x,timeout:R,easing:C},{mode:"exit"});if(R==="auto"){const ge=se.transitions.getAutoHeightDuration(X);S.style.transitionDuration=`${ge}ms`,W.current=ge}else S.style.transitionDuration=typeof Z=="string"?Z:`${Z}ms`;S.style[T]=w,S.style.transitionTimingFunction=fe,J&&J(S)}),Ue=S=>{R==="auto"&&K.start(W.current||0,S),a&&a(U.current,S)};return h.jsx(D,{in:v,onEnter:me,onEntered:Ie,onEntering:Ae,onExit:Ye,onExited:Le,onExiting:Qe,addEndListener:Ue,nodeRef:U,timeout:R==="auto"?null:R,...E,children:(S,{ownerState:X,...Z})=>h.jsx(cr,{as:b,className:Pe(M.root,d,{entered:M.entered,exited:!v&&w==="0px"&&M.hidden}[S]),style:{[A?"minWidth":"minHeight"]:w,...x},ref:H,ownerState:{...te,state:S},...Z,children:h.jsx(ur,{ownerState:{...te,state:S},className:M.wrapper,ref:I,children:h.jsx(fr,{ownerState:{...te,state:S},className:M.wrapperInner,children:o})})})})});st&&(st.muiSupportAuto=!0);const Bt=z.createContext({});function hr(e){return He("MuiAccordion",e)}const We=Ge("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),pr=e=>{const{classes:t,square:r,expanded:i,disabled:a,disableGutters:o}=e;return Ke({root:["root",!r&&"rounded",i&&"expanded",a&&"disabled",!o&&"gutters"],heading:["heading"],region:["region"]},hr,t)},yr=ye(Lt,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${We.region}`]:t.region},t.root,!r.square&&t.rounded,!r.disableGutters&&t.gutters]}})(we(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${We.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${We.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}}),we(({theme:e})=>({variants:[{props:t=>!t.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:t=>!t.disableGutters,style:{[`&.${We.expanded}`]:{margin:"16px 0"}}}]}))),mr=ye("h3",{name:"MuiAccordion",slot:"Heading"})({all:"unset"}),gt=z.forwardRef(function(t,r){const i=Je({props:t,name:"MuiAccordion"}),{children:a,className:o,defaultExpanded:d=!1,disabled:c=!1,disableGutters:b=!1,expanded:C,onChange:v,square:V=!1,slots:m={},slotProps:L={},TransitionComponent:j,TransitionProps:F,...J}=i,[B,x]=ar({controlled:C,default:d,name:"Accordion",state:"expanded"}),R=z.useCallback(ne=>{x(!B),v&&v(ne,!B)},[B,v,x]),[D,...E]=z.Children.toArray(a),te=z.useMemo(()=>({expanded:B,disabled:c,disableGutters:b,toggle:R}),[B,c,b,R]),M={...i,square:V,disabled:c,disableGutters:b,expanded:B},se=pr(M),K={transition:j,...m},I={transition:F,...L},W={slots:K,slotProps:I},[w,A]=Te("root",{elementType:yr,externalForwardedProps:{...W,...J},className:Pe(se.root,o),shouldForwardComponentProp:!0,ownerState:M,ref:r,additionalProps:{square:V}}),[T,U]=Te("heading",{elementType:mr,externalForwardedProps:W,className:se.heading,ownerState:M}),[H,q]=Te("transition",{elementType:st,externalForwardedProps:W,ownerState:M});return h.jsxs(w,{...A,children:[h.jsx(T,{...U,children:h.jsx(Bt.Provider,{value:te,children:D})}),h.jsx(H,{in:B,timeout:"auto",...q,children:h.jsx("div",{"aria-labelledby":D.props.id,id:D.props["aria-controls"],role:"region",className:se.region,children:E})})]})});function gr(e){return He("MuiAccordionDetails",e)}Ge("MuiAccordionDetails",["root"]);const xr=e=>{const{classes:t}=e;return Ke({root:["root"]},gr,t)},br=ye("div",{name:"MuiAccordionDetails",slot:"Root"})(we(({theme:e})=>({padding:e.spacing(1,2,2)}))),xt=z.forwardRef(function(t,r){const i=Je({props:t,name:"MuiAccordionDetails"}),{className:a,...o}=i,d=i,c=xr(d);return h.jsx(br,{className:Pe(c.root,a),ref:r,ownerState:d,...o})});function vr(e){return He("MuiAccordionSummary",e)}const Fe=Ge("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),wr=e=>{const{classes:t,expanded:r,disabled:i,disableGutters:a}=e;return Ke({root:["root",r&&"expanded",i&&"disabled",!a&&"gutters"],focusVisible:["focusVisible"],content:["content",r&&"expanded",!a&&"contentGutters"],expandIconWrapper:["expandIconWrapper",r&&"expanded"]},vr,t)},Ar=ye(sr,{name:"MuiAccordionSummary",slot:"Root"})(we(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{display:"flex",width:"100%",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],t),[`&.${Fe.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Fe.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${Fe.disabled})`]:{cursor:"pointer"},variants:[{props:r=>!r.disableGutters,style:{[`&.${Fe.expanded}`]:{minHeight:64}}}]}})),Sr=ye("span",{name:"MuiAccordionSummary",slot:"Content"})(we(({theme:e})=>({display:"flex",textAlign:"start",flexGrow:1,margin:"12px 0",variants:[{props:t=>!t.disableGutters,style:{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${Fe.expanded}`]:{margin:"20px 0"}}}]}))),Vr=ye("span",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper"})(we(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${Fe.expanded}`]:{transform:"rotate(180deg)"}}))),bt=z.forwardRef(function(t,r){const i=Je({props:t,name:"MuiAccordionSummary"}),{children:a,className:o,expandIcon:d,focusVisibleClassName:c,onClick:b,slots:C,slotProps:v,...V}=i,{disabled:m=!1,disableGutters:L,expanded:j,toggle:F}=z.useContext(Bt),J=I=>{F&&F(I),b&&b(I)},B={...i,expanded:j,disabled:m,disableGutters:L},x=wr(B),R={slots:C,slotProps:v},[D,E]=Te("root",{ref:r,shouldForwardComponentProp:!0,className:Pe(x.root,o),elementType:Ar,externalForwardedProps:{...R,...V},ownerState:B,additionalProps:{focusRipple:!1,disableRipple:!0,disabled:m,"aria-expanded":j,focusVisibleClassName:Pe(x.focusVisible,c)},getSlotProps:I=>({...I,onClick:W=>{I.onClick?.(W),J(W)}})}),[te,M]=Te("content",{className:x.content,elementType:Sr,externalForwardedProps:R,ownerState:B}),[se,K]=Te("expandIconWrapper",{className:x.expandIconWrapper,elementType:Vr,externalForwardedProps:R,ownerState:B});return h.jsxs(D,{...E,children:[h.jsx(te,{...M,children:a}),d&&h.jsx(se,{...K,children:d})]})}),vt=ir(h.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}));var je=e=>e.type==="checkbox",ve=e=>e instanceof Date,Q=e=>e==null;const Mt=e=>typeof e=="object";var N=e=>!Q(e)&&!Array.isArray(e)&&Mt(e)&&!ve(e),Rr=e=>N(e)&&e.target?je(e.target)?e.target.checked:e.target.value:e,Fr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Tr=(e,t)=>e.has(Fr(t)),_r=e=>{const t=e.constructor&&e.constructor.prototype;return N(t)&&t.hasOwnProperty("isPrototypeOf")},nt=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function G(e){let t;const r=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(nt&&(e instanceof Blob||i))&&(r||N(e)))if(t=r?[]:{},!r&&!_r(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=G(e[a]));else return e;return t}var Xe=e=>/^\w*$/.test(e),$=e=>e===void 0,ot=e=>Array.isArray(e)?e.filter(Boolean):[],at=e=>ot(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,t,r)=>{if(!t||!N(e))return r;const i=(Xe(t)?[t]:at(t)).reduce((a,o)=>Q(a)?a:a[o],e);return $(i)||i===e?$(e[t])?r:e[t]:i},de=e=>typeof e=="boolean",P=(e,t,r)=>{let i=-1;const a=Xe(t)?[t]:at(t),o=a.length,d=o-1;for(;++i<o;){const c=a[i];let b=r;if(i!==d){const C=e[c];b=N(C)||Array.isArray(C)?C:isNaN(+a[i+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=b,e=e[c]}};const wt={BLUR:"blur",FOCUS_OUT:"focusout"},ae={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},he={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Dr=re.createContext(null);Dr.displayName="HookFormContext";var kr=(e,t,r,i=!0)=>{const a={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(a,o,{get:()=>{const d=o;return t._proxyFormState[d]!==ae.all&&(t._proxyFormState[d]=!i||ae.all),e[d]}});return a};const Er=typeof window<"u"?re.useLayoutEffect:re.useEffect;var ue=e=>typeof e=="string",Cr=(e,t,r,i,a)=>ue(e)?(i&&t.watch.add(e),y(r,e,a)):Array.isArray(e)?e.map(o=>(i&&t.watch.add(o),y(r,o))):(i&&(t.watchAll=!0),r),it=e=>Q(e)||!Mt(e);function be(e,t,r=new WeakSet){if(it(e)||it(t))return e===t;if(ve(e)&&ve(t))return e.getTime()===t.getTime();const i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const o of i){const d=e[o];if(!a.includes(o))return!1;if(o!=="ref"){const c=t[o];if(ve(d)&&ve(c)||N(d)&&N(c)||Array.isArray(d)&&Array.isArray(c)?!be(d,c,r):d!==c)return!1}}return!0}var Pr=(e,t,r,i,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[i]:a||!0}}:{},Ee=e=>Array.isArray(e)?e:[e],At=()=>{let e=[];return{get observers(){return e},next:a=>{for(const o of e)o.next&&o.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(o=>o!==a)}}),unsubscribe:()=>{e=[]}}},ee=e=>N(e)&&!Object.keys(e).length,lt=e=>e.type==="file",le=e=>typeof e=="function",Oe=e=>{if(!nt)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Wt=e=>e.type==="select-multiple",dt=e=>e.type==="radio",jr=e=>dt(e)||je(e),tt=e=>Oe(e)&&e.isConnected;function Ir(e,t){const r=t.slice(0,-1).length;let i=0;for(;i<r;)e=$(e)?i++:e[t[i++]];return e}function Lr(e){for(const t in e)if(e.hasOwnProperty(t)&&!$(e[t]))return!1;return!0}function O(e,t){const r=Array.isArray(t)?t:Xe(t)?[t]:at(t),i=r.length===1?e:Ir(e,r),a=r.length-1,o=r[a];return i&&delete i[o],a!==0&&(N(i)&&ee(i)||Array.isArray(i)&&Lr(i))&&O(e,r.slice(0,-1)),e}var Nt=e=>{for(const t in e)if(le(e[t]))return!0;return!1};function $e(e,t={}){const r=Array.isArray(e);if(N(e)||r)for(const i in e)Array.isArray(e[i])||N(e[i])&&!Nt(e[i])?(t[i]=Array.isArray(e[i])?[]:{},$e(e[i],t[i])):Q(e[i])||(t[i]=!0);return t}function Ot(e,t,r){const i=Array.isArray(e);if(N(e)||i)for(const a in e)Array.isArray(e[a])||N(e[a])&&!Nt(e[a])?$(t)||it(r[a])?r[a]=Array.isArray(e[a])?$e(e[a],[]):{...$e(e[a])}:Ot(e[a],Q(t)?{}:t[a],r[a]):r[a]=!be(e[a],t[a]);return r}var _e=(e,t)=>Ot(e,t,$e(t));const St={value:!1,isValid:!1},Vt={value:!0,isValid:!0};var $t=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!$(e[0].attributes.value)?$(e[0].value)||e[0].value===""?Vt:{value:e[0].value,isValid:!0}:Vt:St}return St},qt=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:i})=>$(e)?e:t?e===""?NaN:e&&+e:r&&ue(e)?new Date(e):i?i(e):e;const Rt={isValid:!1,value:null};var zt=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Rt):Rt;function Ft(e){const t=e.ref;return lt(t)?t.files:dt(t)?zt(e.refs).value:Wt(t)?[...t.selectedOptions].map(({value:r})=>r):je(t)?$t(e.refs).value:qt($(t.value)?e.ref.value:t.value,e)}var Ur=(e,t,r,i)=>{const a={};for(const o of e){const d=y(t,o);d&&P(a,o,d._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:i}},qe=e=>e instanceof RegExp,De=e=>$(e)?e:qe(e)?e.source:N(e)?qe(e.value)?e.value.source:e.value:e,Tt=e=>({isOnSubmit:!e||e===ae.onSubmit,isOnBlur:e===ae.onBlur,isOnChange:e===ae.onChange,isOnAll:e===ae.all,isOnTouch:e===ae.onTouched});const _t="AsyncFunction";var Br=e=>!!e&&!!e.validate&&!!(le(e.validate)&&e.validate.constructor.name===_t||N(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===_t)),Mr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Dt=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const Ce=(e,t,r,i)=>{for(const a of r||Object.keys(e)){const o=y(e,a);if(o){const{_f:d,...c}=o;if(d){if(d.refs&&d.refs[0]&&t(d.refs[0],a)&&!i)return!0;if(d.ref&&t(d.ref,d.name)&&!i)return!0;if(Ce(c,t))break}else if(N(c)&&Ce(c,t))break}}};function kt(e,t,r){const i=y(e,r);if(i||Xe(r))return{error:i,name:r};const a=r.split(".");for(;a.length;){const o=a.join("."),d=y(t,o),c=y(e,o);if(d&&!Array.isArray(d)&&r!==o)return{name:r};if(c&&c.type)return{name:o,error:c};if(c&&c.root&&c.root.type)return{name:`${o}.root`,error:c.root};a.pop()}return{name:r}}var Wr=(e,t,r,i)=>{r(e);const{name:a,...o}=e;return ee(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(d=>t[d]===(!i||ae.all))},Nr=(e,t,r)=>!e||!t||e===t||Ee(e).some(i=>i&&(r?i===t:i.startsWith(t)||t.startsWith(i))),Or=(e,t,r,i,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?i.isOnBlur:a.isOnBlur)?!e:(r?i.isOnChange:a.isOnChange)?e:!0,$r=(e,t)=>!ot(y(e,t)).length&&O(e,t),qr=(e,t,r)=>{const i=Ee(y(e,r));return P(i,"root",t[r]),P(e,r,i),e},Ne=e=>ue(e);function Et(e,t,r="validate"){if(Ne(e)||Array.isArray(e)&&e.every(Ne)||de(e)&&!e)return{type:r,message:Ne(e)?e:"",ref:t}}var Se=e=>N(e)&&!qe(e)?e:{value:e,message:""},Ct=async(e,t,r,i,a,o)=>{const{ref:d,refs:c,required:b,maxLength:C,minLength:v,min:V,max:m,pattern:L,validate:j,name:F,valueAsNumber:J,mount:B}=e._f,x=y(r,F);if(!B||t.has(F))return{};const R=c?c[0]:d,D=w=>{a&&R.reportValidity&&(R.setCustomValidity(de(w)?"":w||""),R.reportValidity())},E={},te=dt(d),M=je(d),se=te||M,K=(J||lt(d))&&$(d.value)&&$(x)||Oe(d)&&d.value===""||x===""||Array.isArray(x)&&!x.length,I=Pr.bind(null,F,i,E),W=(w,A,T,U=he.maxLength,H=he.minLength)=>{const q=w?A:T;E[F]={type:w?U:H,message:q,ref:d,...I(w?U:H,q)}};if(o?!Array.isArray(x)||!x.length:b&&(!se&&(K||Q(x))||de(x)&&!x||M&&!$t(c).isValid||te&&!zt(c).isValid)){const{value:w,message:A}=Ne(b)?{value:!!b,message:b}:Se(b);if(w&&(E[F]={type:he.required,message:A,ref:R,...I(he.required,A)},!i))return D(A),E}if(!K&&(!Q(V)||!Q(m))){let w,A;const T=Se(m),U=Se(V);if(!Q(x)&&!isNaN(x)){const H=d.valueAsNumber||x&&+x;Q(T.value)||(w=H>T.value),Q(U.value)||(A=H<U.value)}else{const H=d.valueAsDate||new Date(x),q=Ae=>new Date(new Date().toDateString()+" "+Ae),ne=d.type=="time",me=d.type=="week";ue(T.value)&&x&&(w=ne?q(x)>q(T.value):me?x>T.value:H>new Date(T.value)),ue(U.value)&&x&&(A=ne?q(x)<q(U.value):me?x<U.value:H<new Date(U.value))}if((w||A)&&(W(!!w,T.message,U.message,he.max,he.min),!i))return D(E[F].message),E}if((C||v)&&!K&&(ue(x)||o&&Array.isArray(x))){const w=Se(C),A=Se(v),T=!Q(w.value)&&x.length>+w.value,U=!Q(A.value)&&x.length<+A.value;if((T||U)&&(W(T,w.message,A.message),!i))return D(E[F].message),E}if(L&&!K&&ue(x)){const{value:w,message:A}=Se(L);if(qe(w)&&!x.match(w)&&(E[F]={type:he.pattern,message:A,ref:d,...I(he.pattern,A)},!i))return D(A),E}if(j){if(le(j)){const w=await j(x,r),A=Et(w,R);if(A&&(E[F]={...A,...I(he.validate,A.message)},!i))return D(A.message),E}else if(N(j)){let w={};for(const A in j){if(!ee(w)&&!i)break;const T=Et(await j[A](x,r),R,A);T&&(w={...T,...I(A,T.message)},D(T.message),i&&(E[F]=w))}if(!ee(w)&&(E[F]={ref:R,...w},!i))return E}}return D(!0),E};const zr={mode:ae.onSubmit,reValidateMode:ae.onChange,shouldFocusError:!0};function Hr(e={}){let t={...zr,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:le(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},i={},a=N(t.defaultValues)||N(t.values)?G(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:G(a),d={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},b,C=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let V={...v};const m={array:At(),state:At()},L=t.criteriaMode===ae.all,j=s=>n=>{clearTimeout(C),C=setTimeout(s,n)},F=async s=>{if(!t.disabled&&(v.isValid||V.isValid||s)){const n=t.resolver?ee((await M()).errors):await K(i,!0);n!==r.isValid&&m.state.next({isValid:n})}},J=(s,n)=>{!t.disabled&&(v.isValidating||v.validatingFields||V.isValidating||V.validatingFields)&&((s||Array.from(c.mount)).forEach(l=>{l&&(n?P(r.validatingFields,l,n):O(r.validatingFields,l))}),m.state.next({validatingFields:r.validatingFields,isValidating:!ee(r.validatingFields)}))},B=(s,n=[],l,p,f=!0,u=!0)=>{if(p&&l&&!t.disabled){if(d.action=!0,u&&Array.isArray(y(i,s))){const g=l(y(i,s),p.argA,p.argB);f&&P(i,s,g)}if(u&&Array.isArray(y(r.errors,s))){const g=l(y(r.errors,s),p.argA,p.argB);f&&P(r.errors,s,g),$r(r.errors,s)}if((v.touchedFields||V.touchedFields)&&u&&Array.isArray(y(r.touchedFields,s))){const g=l(y(r.touchedFields,s),p.argA,p.argB);f&&P(r.touchedFields,s,g)}(v.dirtyFields||V.dirtyFields)&&(r.dirtyFields=_e(a,o)),m.state.next({name:s,isDirty:W(s,n),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else P(o,s,n)},x=(s,n)=>{P(r.errors,s,n),m.state.next({errors:r.errors})},R=s=>{r.errors=s,m.state.next({errors:r.errors,isValid:!1})},D=(s,n,l,p)=>{const f=y(i,s);if(f){const u=y(o,s,$(l)?y(a,s):l);$(u)||p&&p.defaultChecked||n?P(o,s,n?u:Ft(f._f)):T(s,u),d.mount&&F()}},E=(s,n,l,p,f)=>{let u=!1,g=!1;const _={name:s};if(!t.disabled){if(!l||p){(v.isDirty||V.isDirty)&&(g=r.isDirty,r.isDirty=_.isDirty=W(),u=g!==_.isDirty);const k=be(y(a,s),n);g=!!y(r.dirtyFields,s),k?O(r.dirtyFields,s):P(r.dirtyFields,s,!0),_.dirtyFields=r.dirtyFields,u=u||(v.dirtyFields||V.dirtyFields)&&g!==!k}if(l){const k=y(r.touchedFields,s);k||(P(r.touchedFields,s,l),_.touchedFields=r.touchedFields,u=u||(v.touchedFields||V.touchedFields)&&k!==l)}u&&f&&m.state.next(_)}return u?_:{}},te=(s,n,l,p)=>{const f=y(r.errors,s),u=(v.isValid||V.isValid)&&de(n)&&r.isValid!==n;if(t.delayError&&l?(b=j(()=>x(s,l)),b(t.delayError)):(clearTimeout(C),b=null,l?P(r.errors,s,l):O(r.errors,s)),(l?!be(f,l):f)||!ee(p)||u){const g={...p,...u&&de(n)?{isValid:n}:{},errors:r.errors,name:s};r={...r,...g},m.state.next(g)}},M=async s=>{J(s,!0);const n=await t.resolver(o,t.context,Ur(s||c.mount,i,t.criteriaMode,t.shouldUseNativeValidation));return J(s),n},se=async s=>{const{errors:n}=await M(s);if(s)for(const l of s){const p=y(n,l);p?P(r.errors,l,p):O(r.errors,l)}else r.errors=n;return n},K=async(s,n,l={valid:!0})=>{for(const p in s){const f=s[p];if(f){const{_f:u,...g}=f;if(u){const _=c.array.has(u.name),k=f._f&&Br(f._f);k&&v.validatingFields&&J([p],!0);const ie=await Ct(f,c.disabled,o,L,t.shouldUseNativeValidation&&!n,_);if(k&&v.validatingFields&&J([p]),ie[u.name]&&(l.valid=!1,n))break;!n&&(y(ie,u.name)?_?qr(r.errors,ie,u.name):P(r.errors,u.name,ie[u.name]):O(r.errors,u.name))}!ee(g)&&await K(g,n,l)}}return l.valid},I=()=>{for(const s of c.unMount){const n=y(i,s);n&&(n._f.refs?n._f.refs.every(l=>!tt(l)):!tt(n._f.ref))&&X(s)}c.unMount=new Set},W=(s,n)=>!t.disabled&&(s&&n&&P(o,s,n),!be(Ae(),a)),w=(s,n,l)=>Cr(s,c,{...d.mount?o:$(n)?a:ue(s)?{[s]:n}:n},l,n),A=s=>ot(y(d.mount?o:a,s,t.shouldUnregister?y(a,s,[]):[])),T=(s,n,l={})=>{const p=y(i,s);let f=n;if(p){const u=p._f;u&&(!u.disabled&&P(o,s,qt(n,u)),f=Oe(u.ref)&&Q(n)?"":n,Wt(u.ref)?[...u.ref.options].forEach(g=>g.selected=f.includes(g.value)):u.refs?je(u.ref)?u.refs.forEach(g=>{(!g.defaultChecked||!g.disabled)&&(Array.isArray(f)?g.checked=!!f.find(_=>_===g.value):g.checked=f===g.value||!!f)}):u.refs.forEach(g=>g.checked=g.value===f):lt(u.ref)?u.ref.value="":(u.ref.value=f,u.ref.type||m.state.next({name:s,values:G(o)})))}(l.shouldDirty||l.shouldTouch)&&E(s,f,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&me(s)},U=(s,n,l)=>{for(const p in n){if(!n.hasOwnProperty(p))return;const f=n[p],u=s+"."+p,g=y(i,u);(c.array.has(s)||N(f)||g&&!g._f)&&!ve(f)?U(u,f,l):T(u,f,l)}},H=(s,n,l={})=>{const p=y(i,s),f=c.array.has(s),u=G(n);P(o,s,u),f?(m.array.next({name:s,values:G(o)}),(v.isDirty||v.dirtyFields||V.isDirty||V.dirtyFields)&&l.shouldDirty&&m.state.next({name:s,dirtyFields:_e(a,o),isDirty:W(s,u)})):p&&!p._f&&!Q(u)?U(s,u,l):T(s,u,l),Dt(s,c)&&m.state.next({...r,name:s}),m.state.next({name:d.mount?s:void 0,values:G(o)})},q=async s=>{d.mount=!0;const n=s.target;let l=n.name,p=!0;const f=y(i,l),u=k=>{p=Number.isNaN(k)||ve(k)&&isNaN(k.getTime())||be(k,y(o,l,k))},g=Tt(t.mode),_=Tt(t.reValidateMode);if(f){let k,ie;const Me=n.type?Ft(f._f):Rr(s),xe=s.type===wt.BLUR||s.type===wt.FOCUS_OUT,Xt=!Mr(f._f)&&!t.resolver&&!y(r.errors,l)&&!f._f.deps||Or(xe,y(r.touchedFields,l),r.isSubmitted,_,g),Ze=Dt(l,c,xe);P(o,l,Me),xe?(f._f.onBlur&&f._f.onBlur(s),b&&b(0)):f._f.onChange&&f._f.onChange(s);const et=E(l,Me,xe),Yt=!ee(et)||Ze;if(!xe&&m.state.next({name:l,type:s.type,values:G(o)}),Xt)return(v.isValid||V.isValid)&&(t.mode==="onBlur"?xe&&F():xe||F()),Yt&&m.state.next({name:l,...Ze?{}:et});if(!xe&&Ze&&m.state.next({...r}),t.resolver){const{errors:pt}=await M([l]);if(u(Me),p){const Qt=kt(r.errors,i,l),yt=kt(pt,i,Qt.name||l);k=yt.error,l=yt.name,ie=ee(pt)}}else J([l],!0),k=(await Ct(f,c.disabled,o,L,t.shouldUseNativeValidation))[l],J([l]),u(Me),p&&(k?ie=!1:(v.isValid||V.isValid)&&(ie=await K(i,!0)));p&&(f._f.deps&&me(f._f.deps),te(l,ie,k,et))}},ne=(s,n)=>{if(y(r.errors,n)&&s.focus)return s.focus(),1},me=async(s,n={})=>{let l,p;const f=Ee(s);if(t.resolver){const u=await se($(s)?s:f);l=ee(u),p=s?!f.some(g=>y(u,g)):l}else s?(p=(await Promise.all(f.map(async u=>{const g=y(i,u);return await K(g&&g._f?{[u]:g}:g)}))).every(Boolean),!(!p&&!r.isValid)&&F()):p=l=await K(i);return m.state.next({...!ue(s)||(v.isValid||V.isValid)&&l!==r.isValid?{}:{name:s},...t.resolver||!s?{isValid:l}:{},errors:r.errors}),n.shouldFocus&&!p&&Ce(i,ne,s?f:c.mount),p},Ae=s=>{const n={...d.mount?o:a};return $(s)?n:ue(s)?y(n,s):s.map(l=>y(n,l))},Ie=(s,n)=>({invalid:!!y((n||r).errors,s),isDirty:!!y((n||r).dirtyFields,s),error:y((n||r).errors,s),isValidating:!!y(r.validatingFields,s),isTouched:!!y((n||r).touchedFields,s)}),Ye=s=>{s&&Ee(s).forEach(n=>O(r.errors,n)),m.state.next({errors:s?r.errors:{}})},Le=(s,n,l)=>{const p=(y(i,s,{_f:{}})._f||{}).ref,f=y(r.errors,s)||{},{ref:u,message:g,type:_,...k}=f;P(r.errors,s,{...k,...n,ref:p}),m.state.next({name:s,errors:r.errors,isValid:!1}),l&&l.shouldFocus&&p&&p.focus&&p.focus()},Qe=(s,n)=>le(s)?m.state.subscribe({next:l=>"values"in l&&s(w(void 0,n),l)}):w(s,n,!0),Ue=s=>m.state.subscribe({next:n=>{Nr(s.name,n.name,s.exact)&&Wr(n,s.formState||v,Kt,s.reRenderRoot)&&s.callback({values:{...o},...r,...n,defaultValues:a})}}).unsubscribe,S=s=>(d.mount=!0,V={...V,...s.formState},Ue({...s,formState:V})),X=(s,n={})=>{for(const l of s?Ee(s):c.mount)c.mount.delete(l),c.array.delete(l),n.keepValue||(O(i,l),O(o,l)),!n.keepError&&O(r.errors,l),!n.keepDirty&&O(r.dirtyFields,l),!n.keepTouched&&O(r.touchedFields,l),!n.keepIsValidating&&O(r.validatingFields,l),!t.shouldUnregister&&!n.keepDefaultValue&&O(a,l);m.state.next({values:G(o)}),m.state.next({...r,...n.keepDirty?{isDirty:W()}:{}}),!n.keepIsValid&&F()},Z=({disabled:s,name:n})=>{(de(s)&&d.mount||s||c.disabled.has(n))&&(s?c.disabled.add(n):c.disabled.delete(n))},fe=(s,n={})=>{let l=y(i,s);const p=de(n.disabled)||de(t.disabled);return P(i,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...n}}),c.mount.add(s),l?Z({disabled:de(n.disabled)?n.disabled:t.disabled,name:s}):D(s,!0,n.value),{...p?{disabled:n.disabled||t.disabled}:{},...t.progressive?{required:!!n.required,min:De(n.min),max:De(n.max),minLength:De(n.minLength),maxLength:De(n.maxLength),pattern:De(n.pattern)}:{},name:s,onChange:q,onBlur:q,ref:f=>{if(f){fe(s,n),l=y(i,s);const u=$(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,g=jr(u),_=l._f.refs||[];if(g?_.find(k=>k===u):u===l._f.ref)return;P(i,s,{_f:{...l._f,...g?{refs:[..._.filter(tt),u,...Array.isArray(y(a,s))?[{}]:[]],ref:{type:u.type,name:s}}:{ref:u}}}),D(s,!1,void 0,u)}else l=y(i,s,{}),l._f&&(l._f.mount=!1),(t.shouldUnregister||n.shouldUnregister)&&!(Tr(c.array,s)&&d.action)&&c.unMount.add(s)}}},ge=()=>t.shouldFocusError&&Ce(i,ne,c.mount),Be=s=>{de(s)&&(m.state.next({disabled:s}),Ce(i,(n,l)=>{const p=y(i,l);p&&(n.disabled=p._f.disabled||s,Array.isArray(p._f.refs)&&p._f.refs.forEach(f=>{f.disabled=p._f.disabled||s}))},0,!1))},ct=(s,n)=>async l=>{let p;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let f=G(o);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:u,values:g}=await M();r.errors=u,f=G(g)}else await K(i);if(c.disabled.size)for(const u of c.disabled)O(f,u);if(O(r.errors,"root"),ee(r.errors)){m.state.next({errors:{}});try{await s(f,l)}catch(u){p=u}}else n&&await n({...r.errors},l),ge(),setTimeout(ge);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ee(r.errors)&&!p,submitCount:r.submitCount+1,errors:r.errors}),p)throw p},Gt=(s,n={})=>{y(i,s)&&($(n.defaultValue)?H(s,G(y(a,s))):(H(s,n.defaultValue),P(a,s,G(n.defaultValue))),n.keepTouched||O(r.touchedFields,s),n.keepDirty||(O(r.dirtyFields,s),r.isDirty=n.defaultValue?W(s,G(y(a,s))):W()),n.keepError||(O(r.errors,s),v.isValid&&F()),m.state.next({...r}))},ut=(s,n={})=>{const l=s?G(s):a,p=G(l),f=ee(s),u=f?a:p;if(n.keepDefaultValues||(a=l),!n.keepValues){if(n.keepDirtyValues){const g=new Set([...c.mount,...Object.keys(_e(a,o))]);for(const _ of Array.from(g))y(r.dirtyFields,_)?P(u,_,y(o,_)):H(_,y(u,_))}else{if(nt&&$(s))for(const g of c.mount){const _=y(i,g);if(_&&_._f){const k=Array.isArray(_._f.refs)?_._f.refs[0]:_._f.ref;if(Oe(k)){const ie=k.closest("form");if(ie){ie.reset();break}}}}if(n.keepFieldsRef)for(const g of c.mount)H(g,y(u,g));else i={}}o=t.shouldUnregister?n.keepDefaultValues?G(a):{}:G(u),m.array.next({values:{...u}}),m.state.next({values:{...u}})}c={mount:n.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!v.isValid||!!n.keepIsValid||!!n.keepDirtyValues,d.watch=!!t.shouldUnregister,m.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:f?!1:n.keepDirty?r.isDirty:!!(n.keepDefaultValues&&!be(s,a)),isSubmitted:n.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:f?{}:n.keepDirtyValues?n.keepDefaultValues&&o?_e(a,o):r.dirtyFields:n.keepDefaultValues&&s?_e(a,s):n.keepDirty?r.dirtyFields:{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitSuccessful:n.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ft=(s,n)=>ut(le(s)?s(o):s,n),Jt=(s,n={})=>{const l=y(i,s),p=l&&l._f;if(p){const f=p.refs?p.refs[0]:p.ref;f.focus&&(f.focus(),n.shouldSelect&&le(f.select)&&f.select())}},Kt=s=>{r={...r,...s}},ht={control:{register:fe,unregister:X,getFieldState:Ie,handleSubmit:ct,setError:Le,_subscribe:Ue,_runSchema:M,_focusError:ge,_getWatch:w,_getDirty:W,_setValid:F,_setFieldArray:B,_setDisabledField:Z,_setErrors:R,_getFieldArray:A,_reset:ut,_resetDefaultValues:()=>le(t.defaultValues)&&t.defaultValues().then(s=>{ft(s,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:Be,_subjects:m,_proxyFormState:v,get _fields(){return i},get _formValues(){return o},get _state(){return d},set _state(s){d=s},get _defaultValues(){return a},get _names(){return c},set _names(s){c=s},get _formState(){return r},get _options(){return t},set _options(s){t={...t,...s}}},subscribe:S,trigger:me,register:fe,handleSubmit:ct,watch:Qe,setValue:H,getValues:Ae,reset:ft,resetField:Gt,clearErrors:Ye,unregister:X,setError:Le,setFocus:Jt,getFieldState:Ie};return{...ht,formControl:ht}}function Ht(e={}){const t=re.useRef(void 0),r=re.useRef(void 0),[i,a]=re.useState({isDirty:!1,isValidating:!1,isLoading:le(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:le(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:i},e.defaultValues&&!le(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:d,...c}=Hr(e);t.current={...c,formState:i}}const o=t.current.control;return o._options=e,Er(()=>{const d=o._subscribe({formState:o._proxyFormState,callback:()=>a({...o._formState}),reRenderRoot:!0});return a(c=>({...c,isReady:!0})),o._formState.isReady=!0,d},[o]),re.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),re.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),re.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),re.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),re.useEffect(()=>{if(o._proxyFormState.isDirty){const d=o._getDirty();d!==i.isDirty&&o._subjects.state.next({isDirty:d})}},[o,i.isDirty]),re.useEffect(()=>{e.values&&!be(e.values,r.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),r.current=e.values,a(d=>({...d}))):o._resetDefaultValues()},[o,e.values]),re.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=kr(i,o),t.current}const Gr={"Content-Type":"application/json"},Pt=e=>e.split(",").map(t=>t.trim()).filter(Boolean),Jr=e=>e.endsWith(".json")?e:`${e}.json`,Kr=e=>{if(e.media_metadata){const t=e.media_metadata;return Object.entries(t).map(([r,i])=>{const a=i.m?.includes("png")?"png":"jpg";return`https://i.redd.it/${r}.${a}`})}return e.url?[e.url]:[]},Xr=({date:e,reddit:t,urls:r,src:i,desc:a,artistId:o,characterIds:d})=>({date:e,reddit:ze(t),url:Pt(r),src:i,desc:a,artistId:o,characterIds:Pt(d)}),Yr=async e=>{const t=await fetch("/api/posts",{method:"POST",headers:Gr,body:JSON.stringify(Xr(e))}),r=await t.json();if(!t.ok)throw new Error(r.error||"Failed to add post")},Qr=e=>{const t=e.trim();return Ut.some(i=>i.id===t)||"Artist ID does not exist."},ze=e=>{if(!e)return"";try{const t=new URL(e);t.hostname==="old.reddit.com"&&(t.hostname="www.reddit.com");const{origin:r,pathname:i}=t,a=i.split("/").filter(Boolean);return a.length>=4&&a[0]==="r"&&a[2]==="comments"?`${r}/${a.slice(0,4).join("/")}`:""}catch{return""}},Zr=async e=>{if(!e)return null;try{const t=await fetch(Jr(e));if(!t.ok)throw new Error("Failed to fetch Reddit data");const i=(await t.json())[0]?.data?.children[0]?.data;if(!i)throw new Error("Invalid Reddit data structure");const a=i.created_utc?i.created_utc*1e3:null,o=i.selftext??"",d=Kr(i);return{createdDate:a,description:o,imageUrls:d}}catch(t){return console.error("Error fetching Reddit data:",t),null}},jt=(e,t)=>{const r=ze(e.trim());return t?.some(a=>ze(a.reddit)===r)?"This Reddit URL already exists.":!0},Ve={containerBox:{maxWidth:900,mx:"auto",p:3},inputBoxSmall:{flex:"1 1 220px",minWidth:220},actionButton:{minWidth:150}},es=()=>{const{register:e,handleSubmit:t,reset:r,watch:i,setValue:a,getValues:o,setError:d,clearErrors:c,formState:{errors:b,isSubmitting:C}}=Ht(),[v,V]=z.useState(!1),{posts:m}=nr(),L=z.useRef(null),j=i("reddit"),F=z.useCallback(x=>{L.current&&clearTimeout(L.current),L.current=setTimeout(()=>{const R=jt(x.trim(),m);R!==!0?d("reddit",{type:"validate",message:R}):c("reddit")},500)},[d,c,m]),J=async x=>{try{await Yr(x),alert("Post added successfully!"),r()}catch(R){alert(`Error: ${R instanceof Error?R.message:"Unknown error"}`)}},B=async()=>{const x=o("reddit");if(!x){alert("Please enter a Reddit URL first.");return}const R=jt(x,m);if(R!==!0){alert(R);return}V(!0);try{const D=await Zr(ze(x));if(!D){alert("Failed to load Reddit data");return}D.createdDate&&a("date",D.createdDate,{shouldValidate:!0}),D.description&&a("desc",D.description,{shouldValidate:!0}),D.imageUrls?.length&&a("urls",D.imageUrls.join(", "),{shouldValidate:!0})}finally{V(!1)}};return z.useEffect(()=>{if(!j){c("reddit");return}F(j)},[j,F,c]),h.jsx(Y,{sx:Ve.containerBox,children:h.jsx("form",{onSubmit:t(J),noValidate:!0,children:h.jsxs(pe,{spacing:4,children:[h.jsxs(Y,{children:[h.jsx(ce,{variant:"h6",gutterBottom:!0,children:"Post Details"}),h.jsxs(pe,{direction:"row",spacing:2,flexWrap:"wrap",children:[h.jsx(Y,{sx:Ve.inputBoxSmall,children:h.jsx(oe,{label:"UNIX Timestamp",type:"number",error:!!b.date,helperText:b.date?.message,fullWidth:!0,...e("date",{required:"Date is required",valueAsNumber:!0}),slotProps:{inputLabel:{shrink:!!i("date")}}})}),h.jsx(Y,{sx:Ve.inputBoxSmall,children:h.jsx(oe,{label:"Artist ID",error:!!b.artistId,helperText:b.artistId?.message,fullWidth:!0,...e("artistId",{required:"Artist ID is required",validate:Qr}),slotProps:{inputLabel:{shrink:!!i("artistId")}}})}),h.jsx(Y,{sx:Ve.inputBoxSmall,children:h.jsx(oe,{label:"Source URL",error:!!b.src,helperText:b.src?.message,fullWidth:!0,...e("src",{required:"Source URL is required"}),slotProps:{inputLabel:{shrink:!!i("src")}}})})]})]}),h.jsxs(Y,{children:[h.jsx(ce,{variant:"h6",gutterBottom:!0,children:"URLs"}),h.jsxs(pe,{spacing:2,children:[h.jsx(oe,{label:"Image URLs (comma separated)",error:!!b.urls,helperText:b.urls?.message,fullWidth:!0,...e("urls",{required:"Image URLs are required"}),slotProps:{inputLabel:{shrink:!!i("urls")}}}),h.jsx(oe,{label:"Character IDs (comma separated)",error:!!b.characterIds,helperText:b.characterIds?.message,fullWidth:!0,...e("characterIds",{required:"Character IDs are required"}),slotProps:{inputLabel:{shrink:!!i("characterIds")}}})]})]}),h.jsxs(Y,{children:[h.jsx(ce,{variant:"h6",gutterBottom:!0,children:"Description"}),h.jsx(oe,{label:"Description",error:!!b.desc,helperText:b.desc?.message,multiline:!0,minRows:6,fullWidth:!0,...e("desc",{required:"Description is required"}),slotProps:{inputLabel:{shrink:!!i("desc")}}})]}),h.jsxs(Y,{children:[h.jsx(ce,{variant:"h6",gutterBottom:!0,children:"Reddit URL"}),h.jsx(oe,{label:"Reddit URL",error:!!b.reddit,helperText:b.reddit?.message,fullWidth:!0,...e("reddit",{required:"Reddit URL is required"}),slotProps:{inputLabel:{shrink:!!i("reddit")}}})]}),h.jsxs(pe,{direction:"row",spacing:2,justifyContent:"center",flexWrap:"wrap",children:[h.jsx(rt,{variant:"contained",onClick:B,disabled:v,sx:Ve.actionButton,children:v?"Loading...":"Fetch from Reddit"}),h.jsx(rt,{type:"submit",variant:"contained",disabled:C,sx:Ve.actionButton,children:C?"Submitting...":"Add Post"})]})]})})})},ts={"Content-Type":"application/json"},rs=/^(https?:\/\/)?(www\.)?x\.com\/.+$/i,ss=/^https?:\/\/(www\.)?pixiv\.net\/.+$/i,is=async e=>{const t=e.trim();return await new Promise(i=>{setTimeout(()=>{i(Ut.some(a=>a.id===t))},200)})?"Artist ID already exists.":!0},ns=async e=>{const t=await fetch("/api/artists",{method:"POST",headers:ts,body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.error||"Failed to add artist")},Re={containerBox:{maxWidth:600,mx:"auto",p:3},artistIdBox:{flex:"1 1 220px",minWidth:220},nameBox:{flex:"1 1 220px",minWidth:220},twitterBox:{flex:"1 1 260px",minWidth:260},pixivBox:{flex:"1 1 260px",minWidth:260},submitButton:{minWidth:150}},os=()=>{const{register:e,handleSubmit:t,reset:r,watch:i,setError:a,clearErrors:o,formState:{errors:d,isSubmitting:c}}=Ht(),b=i("id"),C=z.useRef(null),v=z.useCallback(m=>{C.current&&clearTimeout(C.current),C.current=setTimeout(async()=>{const L=await is(m.trim());typeof L=="string"&&L.length>0?a("id",{type:"validate",message:L}):o("id")},500)},[a,o]),V=async m=>{const L={id:m.id.trim(),name:m.name.trim(),...m.linkTwitter?.trim()&&{linkTwitter:m.linkTwitter.trim()},...m.linkPixiv?.trim()&&{linkPixiv:m.linkPixiv.trim()}};try{await ns(L),alert("Artist added successfully!"),r()}catch(j){alert(`Error: ${j instanceof Error?j.message:"Unknown error"}`)}};return z.useEffect(()=>{if(!b){o("id");return}v(b)},[b,v,o]),h.jsx(Y,{sx:Re.containerBox,children:h.jsx("form",{onSubmit:t(V),noValidate:!0,children:h.jsxs(pe,{spacing:3,children:[h.jsxs(Y,{children:[h.jsx(ce,{variant:"h6",gutterBottom:!0,children:"Artist Information"}),h.jsxs(pe,{direction:"row",spacing:2,flexWrap:"wrap",children:[h.jsx(Y,{sx:Re.artistIdBox,children:h.jsx(oe,{label:"Artist ID",error:!!d.id,helperText:d.id?.message,fullWidth:!0,...e("id",{required:"ID is required"}),slotProps:{inputLabel:{shrink:!!i("id")}}})}),h.jsx(Y,{sx:Re.nameBox,children:h.jsx(oe,{label:"Name",error:!!d.name,helperText:d.name?.message,fullWidth:!0,...e("name",{required:"Name is required"}),slotProps:{inputLabel:{shrink:!!i("name")}}})})]})]}),h.jsxs(Y,{children:[h.jsx(ce,{variant:"h6",gutterBottom:!0,children:"Links"}),h.jsxs(pe,{direction:"row",spacing:2,flexWrap:"wrap",children:[h.jsx(Y,{sx:Re.twitterBox,children:h.jsx(oe,{label:"Twitter Link",error:!!d.linkTwitter,helperText:d.linkTwitter?.message,fullWidth:!0,...e("linkTwitter",{pattern:{value:rs,message:"Invalid Twitter URL"}}),slotProps:{inputLabel:{shrink:!!i("linkTwitter")}}})}),h.jsx(Y,{sx:Re.pixivBox,children:h.jsx(oe,{label:"Pixiv Link",error:!!d.linkPixiv,helperText:d.linkPixiv?.message,fullWidth:!0,...e("linkPixiv",{pattern:{value:ss,message:"Invalid Pixiv URL"}}),slotProps:{inputLabel:{shrink:!!i("linkPixiv")}}})})]})]}),h.jsx(pe,{direction:"row",justifyContent:"center",children:h.jsx(rt,{type:"submit",variant:"contained",disabled:c,sx:Re.submitButton,children:c?"Submitting...":"Add Artist"})})]})})})},ke={adminContainer:{m:4,p:3,bgcolor:"background.paper",borderRadius:1,boxShadow:3},header:{mb:3,color:"primary.main",fontWeight:600},contentTitle:e=>({mb:2,pb:1,borderBottom:`2px solid ${e.palette.primary.light}`,color:"primary.main"}),paperFullHeight:{p:3,height:"100%"},accordionMargin:{mb:2}},as=()=>{const e=It();return h.jsxs(pe,{sx:ke.adminContainer,direction:"column",spacing:3,children:[h.jsx(ce,{variant:"h4",component:"h2",sx:ke.header,children:"Admin Dashboard"}),h.jsxs(Lt,{elevation:3,sx:ke.paperFullHeight,children:[h.jsx(ce,{variant:"h6",component:"h3",sx:ke.contentTitle(e),children:"Content Submission"}),h.jsxs(gt,{sx:ke.accordionMargin,children:[h.jsx(bt,{expandIcon:h.jsx(vt,{}),children:h.jsx(ce,{variant:"subtitle1",children:"Reddit Posts"})}),h.jsx(xt,{children:h.jsx(es,{})})]}),h.jsxs(gt,{children:[h.jsx(bt,{expandIcon:h.jsx(vt,{}),children:h.jsx(ce,{variant:"subtitle1",children:"Artists"})}),h.jsx(xt,{children:h.jsx(os,{})})]})]})]})},ls=Object.freeze(Object.defineProperty({__proto__:null,default:as},Symbol.toStringTag,{value:"Module"})),ms={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"/src/renderer/+onRenderClient.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:or}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/admin/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:ls}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"/src/renderer/+config.ts",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}}};export{ms as configValuesSerialized};
