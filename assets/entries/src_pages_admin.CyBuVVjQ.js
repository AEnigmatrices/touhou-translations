import{g as qt,a as Ht,r as Y,b as Gt,c as Jt,d as Kt,j as y,s as _e,e as st,f as X,h as Xt,B as Yt,k as Qt,m as Zt,l as er,C as tr,R as G,n as _t,o as rr,p as O,S as ne,T as se,q as ir,P as sr,i as ar}from"../chunks/chunk-BKDX2-jC.js";import{A as at,a as ot,E as nt,b as lt}from"../chunks/chunk-2kgCtEB7.js";import{T as Z}from"../chunks/chunk-C-eOOSSj.js";import"../chunks/chunk-88OY3WUc.js";/* empty css                      */import"../chunks/chunk-DuZevI4n.js";import"../chunks/chunk-5adA6Unv.js";import"../chunks/chunk-CjM3g7Ss.js";function or(e){return Ht("MuiButton",e)}const fe=qt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),nr=Y.createContext({}),lr=Y.createContext(void 0),dr=e=>{const{color:t,disableElevation:r,fullWidth:s,size:n,variant:o,loading:d,loadingPosition:c,classes:m}=e,E={root:["root",d&&"loading",o,`${o}${X(t)}`,`size${X(n)}`,`${o}Size${X(n)}`,`color${X(t)}`,r&&"disableElevation",s&&"fullWidth",d&&`loadingPosition${X(c)}`],startIcon:["icon","startIcon",`iconSize${X(n)}`],endIcon:["icon","endIcon",`iconSize${X(n)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},S=Xt(E,or,m);return{...m,...S}},Ft=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],ur=_e(Yt,{shouldForwardProp:e=>Qt(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${X(r.color)}`],t[`size${X(r.size)}`],t[`${r.variant}Size${X(r.size)}`],r.color==="inherit"&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth,r.loading&&t.loading]}})(Zt(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],r=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${fe.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${fe.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${fe.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${fe.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(er()).map(([s])=>({props:{color:s},style:{"--variant-textColor":(e.vars||e).palette[s].main,"--variant-outlinedColor":(e.vars||e).palette[s].main,"--variant-outlinedBorder":e.alpha((e.vars||e).palette[s].main,.5),"--variant-containedColor":(e.vars||e).palette[s].contrastText,"--variant-containedBg":(e.vars||e).palette[s].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[s].dark,"--variant-textBg":e.alpha((e.vars||e).palette[s].main,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[s].main,"--variant-outlinedBg":e.alpha((e.vars||e).palette[s].main,(e.vars||e).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity),"--variant-outlinedBg":e.alpha((e.vars||e).palette.text.primary,(e.vars||e).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${fe.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${fe.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${fe.loading}`]:{color:"transparent"}}}]}})),cr=_e("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,r.loading&&t.startIconLoadingStart,t[`iconSize${X(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...Ft]})),fr=_e("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,r.loading&&t.endIconLoadingEnd,t[`iconSize${X(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...Ft]})),pr=_e("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),dt=_e("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),Oe=Y.forwardRef(function(t,r){const s=Y.useContext(nr),n=Y.useContext(lr),o=Gt(s,t),d=Jt({props:o,name:"MuiButton"}),{children:c,color:m="primary",component:E="button",className:S,disabled:A=!1,disableElevation:x=!1,disableFocusRipple:j=!1,endIcon:L,focusVisibleClassName:F,fullWidth:J=!1,id:le,loading:v=null,loadingIndicator:T,loadingPosition:P="center",size:I="medium",startIcon:ce,type:Q,variant:ve="text",...$}=d,re=Kt(le),q=T??y.jsx(tr,{"aria-labelledby":re,color:"inherit",size:16}),b={...d,color:m,component:E,disabled:A,disableElevation:x,disableFocusRipple:j,fullWidth:J,loading:v,loadingIndicator:q,loadingPosition:P,size:I,type:Q,variant:ve},w=dr(b),R=(ce||v&&P==="start")&&y.jsx(cr,{className:w.startIcon,ownerState:b,children:ce||y.jsx(dt,{className:w.loadingIconPlaceholder,ownerState:b})}),U=(L||v&&P==="end")&&y.jsx(fr,{className:w.endIcon,ownerState:b,children:L||y.jsx(dt,{className:w.loadingIconPlaceholder,ownerState:b})}),W=n||"",H=typeof v=="boolean"?y.jsx("span",{className:w.loadingWrapper,style:{display:"contents"},children:v&&y.jsx(pr,{className:w.loadingIndicator,ownerState:b,children:q})}):null;return y.jsxs(ur,{ownerState:b,className:st(s.className,w.root,S,W),component:E,disabled:A||v,focusRipple:!j,focusVisibleClassName:st(w.focusVisible,F),ref:r,type:Q,id:v?re:le,...$,classes:w,children:[R,P!=="end"&&H,c,P==="end"&&H,U]})});var Fe=e=>e.type==="checkbox",pe=e=>e instanceof Date,M=e=>e==null;const Pt=e=>typeof e=="object";var D=e=>!M(e)&&!Array.isArray(e)&&Pt(e)&&!pe(e),yr=e=>D(e)&&e.target?Fe(e.target)?e.target.checked:e.target.value:e,gr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,hr=(e,t)=>e.has(gr(t)),xr=e=>{const t=e.constructor&&e.constructor.prototype;return D(t)&&t.hasOwnProperty("isPrototypeOf")},Ne=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function z(e){let t;const r=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Ne&&(e instanceof Blob||s))&&(r||D(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!xr(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=z(e[n]));else return e;return t}var Be=e=>/^\w*$/.test(e),C=e=>e===void 0,$e=e=>Array.isArray(e)?e.filter(Boolean):[],qe=e=>$e(e.replace(/["|']|\]/g,"").split(/\.|\[/)),g=(e,t,r)=>{if(!t||!D(e))return r;const s=(Be(t)?[t]:qe(t)).reduce((n,o)=>M(n)?n:n[o],e);return C(s)||s===e?C(e[t])?r:e[t]:s},ie=e=>typeof e=="boolean",k=(e,t,r)=>{let s=-1;const n=Be(t)?[t]:qe(t),o=n.length,d=o-1;for(;++s<o;){const c=n[s];let m=r;if(s!==d){const E=e[c];m=D(E)||Array.isArray(E)?E:isNaN(+n[s+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=m,e=e[c]}};const ut={BLUR:"blur",FOCUS_OUT:"focusout"},ee={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},oe={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},vr=G.createContext(null);vr.displayName="HookFormContext";var br=(e,t,r,s=!0)=>{const n={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(n,o,{get:()=>{const d=o;return t._proxyFormState[d]!==ee.all&&(t._proxyFormState[d]=!s||ee.all),e[d]}});return n};const mr=typeof window<"u"?G.useLayoutEffect:G.useEffect;var ae=e=>typeof e=="string",wr=(e,t,r,s,n)=>ae(e)?(s&&t.watch.add(e),g(r,e,n)):Array.isArray(e)?e.map(o=>(s&&t.watch.add(o),g(r,o))):(s&&(t.watchAll=!0),r),Me=e=>M(e)||!Pt(e);function ue(e,t,r=new WeakSet){if(Me(e)||Me(t))return e===t;if(pe(e)&&pe(t))return e.getTime()===t.getTime();const s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const o of s){const d=e[o];if(!n.includes(o))return!1;if(o!=="ref"){const c=t[o];if(pe(d)&&pe(c)||D(d)&&D(c)||Array.isArray(d)&&Array.isArray(c)?!ue(d,c,r):d!==c)return!1}}return!0}var Sr=(e,t,r,s,n)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:n||!0}}:{},Ve=e=>Array.isArray(e)?e:[e],ct=()=>{let e=[];return{get observers(){return e},next:n=>{for(const o of e)o.next&&o.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(o=>o!==n)}}),unsubscribe:()=>{e=[]}}},N=e=>D(e)&&!Object.keys(e).length,He=e=>e.type==="file",te=e=>typeof e=="function",Ee=e=>{if(!Ne)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},kt=e=>e.type==="select-multiple",Ge=e=>e.type==="radio",Vr=e=>Ge(e)||Fe(e),We=e=>Ee(e)&&e.isConnected;function Ar(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=C(e)?s++:e[t[s++]];return e}function _r(e){for(const t in e)if(e.hasOwnProperty(t)&&!C(e[t]))return!1;return!0}function B(e,t){const r=Array.isArray(t)?t:Be(t)?[t]:qe(t),s=r.length===1?e:Ar(e,r),n=r.length-1,o=r[n];return s&&delete s[o],n!==0&&(D(s)&&N(s)||Array.isArray(s)&&_r(s))&&B(e,r.slice(0,-1)),e}var Rt=e=>{for(const t in e)if(te(e[t]))return!0;return!1};function Ie(e,t={}){const r=Array.isArray(e);if(D(e)||r)for(const s in e)Array.isArray(e[s])||D(e[s])&&!Rt(e[s])?(t[s]=Array.isArray(e[s])?[]:{},Ie(e[s],t[s])):M(e[s])||(t[s]=!0);return t}function Et(e,t,r){const s=Array.isArray(e);if(D(e)||s)for(const n in e)Array.isArray(e[n])||D(e[n])&&!Rt(e[n])?C(t)||Me(r[n])?r[n]=Array.isArray(e[n])?Ie(e[n],[]):{...Ie(e[n])}:Et(e[n],M(t)?{}:t[n],r[n]):r[n]=!ue(e[n],t[n]);return r}var me=(e,t)=>Et(e,t,Ie(t));const ft={value:!1,isValid:!1},pt={value:!0,isValid:!0};var It=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!C(e[0].attributes.value)?C(e[0].value)||e[0].value===""?pt:{value:e[0].value,isValid:!0}:pt:ft}return ft},Dt=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>C(e)?e:t?e===""?NaN:e&&+e:r&&ae(e)?new Date(e):s?s(e):e;const yt={isValid:!1,value:null};var Tt=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,yt):yt;function gt(e){const t=e.ref;return He(t)?t.files:Ge(t)?Tt(e.refs).value:kt(t)?[...t.selectedOptions].map(({value:r})=>r):Fe(t)?It(e.refs).value:Dt(C(t.value)?e.ref.value:t.value,e)}var Fr=(e,t,r,s)=>{const n={};for(const o of e){const d=g(t,o);d&&k(n,o,d._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:s}},De=e=>e instanceof RegExp,we=e=>C(e)?e:De(e)?e.source:D(e)?De(e.value)?e.value.source:e.value:e,ht=e=>({isOnSubmit:!e||e===ee.onSubmit,isOnBlur:e===ee.onBlur,isOnChange:e===ee.onChange,isOnAll:e===ee.all,isOnTouch:e===ee.onTouched});const xt="AsyncFunction";var Pr=e=>!!e&&!!e.validate&&!!(te(e.validate)&&e.validate.constructor.name===xt||D(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===xt)),kr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),vt=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Ae=(e,t,r,s)=>{for(const n of r||Object.keys(e)){const o=g(e,n);if(o){const{_f:d,...c}=o;if(d){if(d.refs&&d.refs[0]&&t(d.refs[0],n)&&!s)return!0;if(d.ref&&t(d.ref,d.name)&&!s)return!0;if(Ae(c,t))break}else if(D(c)&&Ae(c,t))break}}};function bt(e,t,r){const s=g(e,r);if(s||Be(r))return{error:s,name:r};const n=r.split(".");for(;n.length;){const o=n.join("."),d=g(t,o),c=g(e,o);if(d&&!Array.isArray(d)&&r!==o)return{name:r};if(c&&c.type)return{name:o,error:c};if(c&&c.root&&c.root.type)return{name:`${o}.root`,error:c.root};n.pop()}return{name:r}}var Rr=(e,t,r,s)=>{r(e);const{name:n,...o}=e;return N(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(d=>t[d]===(!s||ee.all))},Er=(e,t,r)=>!e||!t||e===t||Ve(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s))),Ir=(e,t,r,s,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(t||e):(r?s.isOnBlur:n.isOnBlur)?!e:(r?s.isOnChange:n.isOnChange)?e:!0,Dr=(e,t)=>!$e(g(e,t)).length&&B(e,t),Tr=(e,t,r)=>{const s=Ve(g(e,r));return k(s,"root",t[r]),k(e,r,s),e},Re=e=>ae(e);function mt(e,t,r="validate"){if(Re(e)||Array.isArray(e)&&e.every(Re)||ie(e)&&!e)return{type:r,message:Re(e)?e:"",ref:t}}var ge=e=>D(e)&&!De(e)?e:{value:e,message:""},wt=async(e,t,r,s,n,o)=>{const{ref:d,refs:c,required:m,maxLength:E,minLength:S,min:A,max:x,pattern:j,validate:L,name:F,valueAsNumber:J,mount:le}=e._f,v=g(r,F);if(!le||t.has(F))return{};const T=c?c[0]:d,P=b=>{n&&T.reportValidity&&(T.setCustomValidity(ie(b)?"":b||""),T.reportValidity())},I={},ce=Ge(d),Q=Fe(d),ve=ce||Q,$=(J||He(d))&&C(d.value)&&C(v)||Ee(d)&&d.value===""||v===""||Array.isArray(v)&&!v.length,re=Sr.bind(null,F,s,I),q=(b,w,R,U=oe.maxLength,W=oe.minLength)=>{const H=b?w:R;I[F]={type:b?U:W,message:H,ref:d,...re(b?U:W,H)}};if(o?!Array.isArray(v)||!v.length:m&&(!ve&&($||M(v))||ie(v)&&!v||Q&&!It(c).isValid||ce&&!Tt(c).isValid)){const{value:b,message:w}=Re(m)?{value:!!m,message:m}:ge(m);if(b&&(I[F]={type:oe.required,message:w,ref:T,...re(oe.required,w)},!s))return P(w),I}if(!$&&(!M(A)||!M(x))){let b,w;const R=ge(x),U=ge(A);if(!M(v)&&!isNaN(v)){const W=d.valueAsNumber||v&&+v;M(R.value)||(b=W>R.value),M(U.value)||(w=W<U.value)}else{const W=d.valueAsDate||new Date(v),H=Pe=>new Date(new Date().toDateString()+" "+Pe),be=d.type=="time",ye=d.type=="week";ae(R.value)&&v&&(b=be?H(v)>H(R.value):ye?v>R.value:W>new Date(R.value)),ae(U.value)&&v&&(w=be?H(v)<H(U.value):ye?v<U.value:W<new Date(U.value))}if((b||w)&&(q(!!b,R.message,U.message,oe.max,oe.min),!s))return P(I[F].message),I}if((E||S)&&!$&&(ae(v)||o&&Array.isArray(v))){const b=ge(E),w=ge(S),R=!M(b.value)&&v.length>+b.value,U=!M(w.value)&&v.length<+w.value;if((R||U)&&(q(R,b.message,w.message),!s))return P(I[F].message),I}if(j&&!$&&ae(v)){const{value:b,message:w}=ge(j);if(De(b)&&!v.match(b)&&(I[F]={type:oe.pattern,message:w,ref:d,...re(oe.pattern,w)},!s))return P(w),I}if(L){if(te(L)){const b=await L(v,r),w=mt(b,T);if(w&&(I[F]={...w,...re(oe.validate,w.message)},!s))return P(w.message),I}else if(D(L)){let b={};for(const w in L){if(!N(b)&&!s)break;const R=mt(await L[w](v,r),T,w);R&&(b={...R,...re(w,R.message)},P(R.message),s&&(I[F]=b))}if(!N(b)&&(I[F]={ref:T,...b},!s))return I}}return P(!0),I};const Br={mode:ee.onSubmit,reValidateMode:ee.onChange,shouldFocusError:!0};function Cr(e={}){let t={...Br,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:te(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},n=D(t.defaultValues)||D(t.values)?z(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:z(n),d={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},m,E=0;const S={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let A={...S};const x={array:ct(),state:ct()},j=t.criteriaMode===ee.all,L=i=>a=>{clearTimeout(E),E=setTimeout(i,a)},F=async i=>{if(!t.disabled&&(S.isValid||A.isValid||i)){const a=t.resolver?N((await Q()).errors):await $(s,!0);a!==r.isValid&&x.state.next({isValid:a})}},J=(i,a)=>{!t.disabled&&(S.isValidating||S.validatingFields||A.isValidating||A.validatingFields)&&((i||Array.from(c.mount)).forEach(l=>{l&&(a?k(r.validatingFields,l,a):B(r.validatingFields,l))}),x.state.next({validatingFields:r.validatingFields,isValidating:!N(r.validatingFields)}))},le=(i,a=[],l,p,f=!0,u=!0)=>{if(p&&l&&!t.disabled){if(d.action=!0,u&&Array.isArray(g(s,i))){const h=l(g(s,i),p.argA,p.argB);f&&k(s,i,h)}if(u&&Array.isArray(g(r.errors,i))){const h=l(g(r.errors,i),p.argA,p.argB);f&&k(r.errors,i,h),Dr(r.errors,i)}if((S.touchedFields||A.touchedFields)&&u&&Array.isArray(g(r.touchedFields,i))){const h=l(g(r.touchedFields,i),p.argA,p.argB);f&&k(r.touchedFields,i,h)}(S.dirtyFields||A.dirtyFields)&&(r.dirtyFields=me(n,o)),x.state.next({name:i,isDirty:q(i,a),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else k(o,i,a)},v=(i,a)=>{k(r.errors,i,a),x.state.next({errors:r.errors})},T=i=>{r.errors=i,x.state.next({errors:r.errors,isValid:!1})},P=(i,a,l,p)=>{const f=g(s,i);if(f){const u=g(o,i,C(l)?g(n,i):l);C(u)||p&&p.defaultChecked||a?k(o,i,a?u:gt(f._f)):R(i,u),d.mount&&F()}},I=(i,a,l,p,f)=>{let u=!1,h=!1;const V={name:i};if(!t.disabled){if(!l||p){(S.isDirty||A.isDirty)&&(h=r.isDirty,r.isDirty=V.isDirty=q(),u=h!==V.isDirty);const _=ue(g(n,i),a);h=!!g(r.dirtyFields,i),_?B(r.dirtyFields,i):k(r.dirtyFields,i,!0),V.dirtyFields=r.dirtyFields,u=u||(S.dirtyFields||A.dirtyFields)&&h!==!_}if(l){const _=g(r.touchedFields,i);_||(k(r.touchedFields,i,l),V.touchedFields=r.touchedFields,u=u||(S.touchedFields||A.touchedFields)&&_!==l)}u&&f&&x.state.next(V)}return u?V:{}},ce=(i,a,l,p)=>{const f=g(r.errors,i),u=(S.isValid||A.isValid)&&ie(a)&&r.isValid!==a;if(t.delayError&&l?(m=L(()=>v(i,l)),m(t.delayError)):(clearTimeout(E),m=null,l?k(r.errors,i,l):B(r.errors,i)),(l?!ue(f,l):f)||!N(p)||u){const h={...p,...u&&ie(a)?{isValid:a}:{},errors:r.errors,name:i};r={...r,...h},x.state.next(h)}},Q=async i=>{J(i,!0);const a=await t.resolver(o,t.context,Fr(i||c.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return J(i),a},ve=async i=>{const{errors:a}=await Q(i);if(i)for(const l of i){const p=g(a,l);p?k(r.errors,l,p):B(r.errors,l)}else r.errors=a;return a},$=async(i,a,l={valid:!0})=>{for(const p in i){const f=i[p];if(f){const{_f:u,...h}=f;if(u){const V=c.array.has(u.name),_=f._f&&Pr(f._f);_&&S.validatingFields&&J([p],!0);const K=await wt(f,c.disabled,o,j,t.shouldUseNativeValidation&&!a,V);if(_&&S.validatingFields&&J([p]),K[u.name]&&(l.valid=!1,a))break;!a&&(g(K,u.name)?V?Tr(r.errors,K,u.name):k(r.errors,u.name,K[u.name]):B(r.errors,u.name))}!N(h)&&await $(h,a,l)}}return l.valid},re=()=>{for(const i of c.unMount){const a=g(s,i);a&&(a._f.refs?a._f.refs.every(l=>!We(l)):!We(a._f.ref))&&Ce(i)}c.unMount=new Set},q=(i,a)=>!t.disabled&&(i&&a&&k(o,i,a),!ue(Pe(),n)),b=(i,a,l)=>wr(i,c,{...d.mount?o:C(a)?n:ae(i)?{[i]:a}:a},l,a),w=i=>$e(g(d.mount?o:n,i,t.shouldUnregister?g(n,i,[]):[])),R=(i,a,l={})=>{const p=g(s,i);let f=a;if(p){const u=p._f;u&&(!u.disabled&&k(o,i,Dt(a,u)),f=Ee(u.ref)&&M(a)?"":a,kt(u.ref)?[...u.ref.options].forEach(h=>h.selected=f.includes(h.value)):u.refs?Fe(u.ref)?u.refs.forEach(h=>{(!h.defaultChecked||!h.disabled)&&(Array.isArray(f)?h.checked=!!f.find(V=>V===h.value):h.checked=f===h.value||!!f)}):u.refs.forEach(h=>h.checked=h.value===f):He(u.ref)?u.ref.value="":(u.ref.value=f,u.ref.type||x.state.next({name:i,values:z(o)})))}(l.shouldDirty||l.shouldTouch)&&I(i,f,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&ye(i)},U=(i,a,l)=>{for(const p in a){if(!a.hasOwnProperty(p))return;const f=a[p],u=i+"."+p,h=g(s,u);(c.array.has(i)||D(f)||h&&!h._f)&&!pe(f)?U(u,f,l):R(u,f,l)}},W=(i,a,l={})=>{const p=g(s,i),f=c.array.has(i),u=z(a);k(o,i,u),f?(x.array.next({name:i,values:z(o)}),(S.isDirty||S.dirtyFields||A.isDirty||A.dirtyFields)&&l.shouldDirty&&x.state.next({name:i,dirtyFields:me(n,o),isDirty:q(i,u)})):p&&!p._f&&!M(u)?U(i,u,l):R(i,u,l),vt(i,c)&&x.state.next({...r,name:i}),x.state.next({name:d.mount?i:void 0,values:z(o)})},H=async i=>{d.mount=!0;const a=i.target;let l=a.name,p=!0;const f=g(s,l),u=_=>{p=Number.isNaN(_)||pe(_)&&isNaN(_.getTime())||ue(_,g(o,l,_))},h=ht(t.mode),V=ht(t.reValidateMode);if(f){let _,K;const ke=a.type?gt(f._f):yr(i),de=i.type===ut.BLUR||i.type===ut.FOCUS_OUT,Mt=!kr(f._f)&&!t.resolver&&!g(r.errors,l)&&!f._f.deps||Ir(de,g(r.touchedFields,l),r.isSubmitted,V,h),ze=vt(l,c,de);k(o,l,ke),de?(!a||!a.readOnly)&&(f._f.onBlur&&f._f.onBlur(i),m&&m(0)):f._f.onChange&&f._f.onChange(i);const Ue=I(l,ke,de),Nt=!N(Ue)||ze;if(!de&&x.state.next({name:l,type:i.type,values:z(o)}),Mt)return(S.isValid||A.isValid)&&(t.mode==="onBlur"?de&&F():de||F()),Nt&&x.state.next({name:l,...ze?{}:Ue});if(!de&&ze&&x.state.next({...r}),t.resolver){const{errors:rt}=await Q([l]);if(u(ke),p){const $t=bt(r.errors,s,l),it=bt(rt,s,$t.name||l);_=it.error,l=it.name,K=N(rt)}}else J([l],!0),_=(await wt(f,c.disabled,o,j,t.shouldUseNativeValidation))[l],J([l]),u(ke),p&&(_?K=!1:(S.isValid||A.isValid)&&(K=await $(s,!0)));p&&(f._f.deps&&ye(f._f.deps),ce(l,K,_,Ue))}},be=(i,a)=>{if(g(r.errors,a)&&i.focus)return i.focus(),1},ye=async(i,a={})=>{let l,p;const f=Ve(i);if(t.resolver){const u=await ve(C(i)?i:f);l=N(u),p=i?!f.some(h=>g(u,h)):l}else i?(p=(await Promise.all(f.map(async u=>{const h=g(s,u);return await $(h&&h._f?{[u]:h}:h)}))).every(Boolean),!(!p&&!r.isValid)&&F()):p=l=await $(s);return x.state.next({...!ae(i)||(S.isValid||A.isValid)&&l!==r.isValid?{}:{name:i},...t.resolver||!i?{isValid:l}:{},errors:r.errors}),a.shouldFocus&&!p&&Ae(s,be,i?f:c.mount),p},Pe=i=>{const a={...d.mount?o:n};return C(i)?a:ae(i)?g(a,i):i.map(l=>g(a,l))},Je=(i,a)=>({invalid:!!g((a||r).errors,i),isDirty:!!g((a||r).dirtyFields,i),error:g((a||r).errors,i),isValidating:!!g(r.validatingFields,i),isTouched:!!g((a||r).touchedFields,i)}),Ct=i=>{i&&Ve(i).forEach(a=>B(r.errors,a)),x.state.next({errors:i?r.errors:{}})},Ke=(i,a,l)=>{const p=(g(s,i,{_f:{}})._f||{}).ref,f=g(r.errors,i)||{},{ref:u,message:h,type:V,..._}=f;k(r.errors,i,{..._,...a,ref:p}),x.state.next({name:i,errors:r.errors,isValid:!1}),l&&l.shouldFocus&&p&&p.focus&&p.focus()},jt=(i,a)=>te(i)?x.state.subscribe({next:l=>"values"in l&&i(b(void 0,a),l)}):b(i,a,!0),Xe=i=>x.state.subscribe({next:a=>{Er(i.name,a.name,i.exact)&&Rr(a,i.formState||S,Ot,i.reRenderRoot)&&i.callback({values:{...o},...r,...a,defaultValues:n})}}).unsubscribe,Lt=i=>(d.mount=!0,A={...A,...i.formState},Xe({...i,formState:A})),Ce=(i,a={})=>{for(const l of i?Ve(i):c.mount)c.mount.delete(l),c.array.delete(l),a.keepValue||(B(s,l),B(o,l)),!a.keepError&&B(r.errors,l),!a.keepDirty&&B(r.dirtyFields,l),!a.keepTouched&&B(r.touchedFields,l),!a.keepIsValidating&&B(r.validatingFields,l),!t.shouldUnregister&&!a.keepDefaultValue&&B(n,l);x.state.next({values:z(o)}),x.state.next({...r,...a.keepDirty?{isDirty:q()}:{}}),!a.keepIsValid&&F()},Ye=({disabled:i,name:a})=>{(ie(i)&&d.mount||i||c.disabled.has(a))&&(i?c.disabled.add(a):c.disabled.delete(a))},je=(i,a={})=>{let l=g(s,i);const p=ie(a.disabled)||ie(t.disabled);return k(s,i,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:i}},name:i,mount:!0,...a}}),c.mount.add(i),l?Ye({disabled:ie(a.disabled)?a.disabled:t.disabled,name:i}):P(i,!0,a.value),{...p?{disabled:a.disabled||t.disabled}:{},...t.progressive?{required:!!a.required,min:we(a.min),max:we(a.max),minLength:we(a.minLength),maxLength:we(a.maxLength),pattern:we(a.pattern)}:{},name:i,onChange:H,onBlur:H,ref:f=>{if(f){je(i,a),l=g(s,i);const u=C(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,h=Vr(u),V=l._f.refs||[];if(h?V.find(_=>_===u):u===l._f.ref)return;k(s,i,{_f:{...l._f,...h?{refs:[...V.filter(We),u,...Array.isArray(g(n,i))?[{}]:[]],ref:{type:u.type,name:i}}:{ref:u}}}),P(i,!1,void 0,u)}else l=g(s,i,{}),l._f&&(l._f.mount=!1),(t.shouldUnregister||a.shouldUnregister)&&!(hr(c.array,i)&&d.action)&&c.unMount.add(i)}}},Le=()=>t.shouldFocusError&&Ae(s,be,c.mount),zt=i=>{ie(i)&&(x.state.next({disabled:i}),Ae(s,(a,l)=>{const p=g(s,l);p&&(a.disabled=p._f.disabled||i,Array.isArray(p._f.refs)&&p._f.refs.forEach(f=>{f.disabled=p._f.disabled||i}))},0,!1))},Qe=(i,a)=>async l=>{let p;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let f=z(o);if(x.state.next({isSubmitting:!0}),t.resolver){const{errors:u,values:h}=await Q();r.errors=u,f=z(h)}else await $(s);if(c.disabled.size)for(const u of c.disabled)B(f,u);if(B(r.errors,"root"),N(r.errors)){x.state.next({errors:{}});try{await i(f,l)}catch(u){p=u}}else a&&await a({...r.errors},l),Le(),setTimeout(Le);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:N(r.errors)&&!p,submitCount:r.submitCount+1,errors:r.errors}),p)throw p},Ut=(i,a={})=>{g(s,i)&&(C(a.defaultValue)?W(i,z(g(n,i))):(W(i,a.defaultValue),k(n,i,z(a.defaultValue))),a.keepTouched||B(r.touchedFields,i),a.keepDirty||(B(r.dirtyFields,i),r.isDirty=a.defaultValue?q(i,z(g(n,i))):q()),a.keepError||(B(r.errors,i),S.isValid&&F()),x.state.next({...r}))},Ze=(i,a={})=>{const l=i?z(i):n,p=z(l),f=N(i),u=f?n:p;if(a.keepDefaultValues||(n=l),!a.keepValues){if(a.keepDirtyValues){const h=new Set([...c.mount,...Object.keys(me(n,o))]);for(const V of Array.from(h))g(r.dirtyFields,V)?k(u,V,g(o,V)):W(V,g(u,V))}else{if(Ne&&C(i))for(const h of c.mount){const V=g(s,h);if(V&&V._f){const _=Array.isArray(V._f.refs)?V._f.refs[0]:V._f.ref;if(Ee(_)){const K=_.closest("form");if(K){K.reset();break}}}}if(a.keepFieldsRef)for(const h of c.mount)W(h,g(u,h));else s={}}o=t.shouldUnregister?a.keepDefaultValues?z(n):{}:z(u),x.array.next({values:{...u}}),x.state.next({values:{...u}})}c={mount:a.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!S.isValid||!!a.keepIsValid||!!a.keepDirtyValues,d.watch=!!t.shouldUnregister,x.state.next({submitCount:a.keepSubmitCount?r.submitCount:0,isDirty:f?!1:a.keepDirty?r.isDirty:!!(a.keepDefaultValues&&!ue(i,n)),isSubmitted:a.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:f?{}:a.keepDirtyValues?a.keepDefaultValues&&o?me(n,o):r.dirtyFields:a.keepDefaultValues&&i?me(n,i):a.keepDirty?r.dirtyFields:{},touchedFields:a.keepTouched?r.touchedFields:{},errors:a.keepErrors?r.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:n})},et=(i,a)=>Ze(te(i)?i(o):i,a),Wt=(i,a={})=>{const l=g(s,i),p=l&&l._f;if(p){const f=p.refs?p.refs[0]:p.ref;f.focus&&(f.focus(),a.shouldSelect&&te(f.select)&&f.select())}},Ot=i=>{r={...r,...i}},tt={control:{register:je,unregister:Ce,getFieldState:Je,handleSubmit:Qe,setError:Ke,_subscribe:Xe,_runSchema:Q,_focusError:Le,_getWatch:b,_getDirty:q,_setValid:F,_setFieldArray:le,_setDisabledField:Ye,_setErrors:T,_getFieldArray:w,_reset:Ze,_resetDefaultValues:()=>te(t.defaultValues)&&t.defaultValues().then(i=>{et(i,t.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:re,_disableForm:zt,_subjects:x,_proxyFormState:S,get _fields(){return s},get _formValues(){return o},get _state(){return d},set _state(i){d=i},get _defaultValues(){return n},get _names(){return c},set _names(i){c=i},get _formState(){return r},get _options(){return t},set _options(i){t={...t,...i}}},subscribe:Lt,trigger:ye,register:je,handleSubmit:Qe,watch:jt,setValue:W,getValues:Pe,reset:et,resetField:Ut,clearErrors:Ct,unregister:Ce,setError:Ke,setFocus:Wt,getFieldState:Je};return{...tt,formControl:tt}}function Bt(e={}){const t=G.useRef(void 0),r=G.useRef(void 0),[s,n]=G.useState({isDirty:!1,isValidating:!1,isLoading:te(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:te(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:s},e.defaultValues&&!te(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:d,...c}=Cr(e);t.current={...c,formState:s}}const o=t.current.control;return o._options=e,mr(()=>{const d=o._subscribe({formState:o._proxyFormState,callback:()=>n({...o._formState}),reRenderRoot:!0});return n(c=>({...c,isReady:!0})),o._formState.isReady=!0,d},[o]),G.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),G.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),G.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),G.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),G.useEffect(()=>{if(o._proxyFormState.isDirty){const d=o._getDirty();d!==s.isDirty&&o._subjects.state.next({isDirty:d})}},[o,s.isDirty]),G.useEffect(()=>{e.values&&!ue(e.values,r.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),r.current=e.values,n(d=>({...d}))):o._resetDefaultValues()},[o,e.values]),G.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=br(s,o),t.current}const jr={"Content-Type":"application/json"},St=e=>e.split(",").map(t=>t.trim()).filter(Boolean),Lr=e=>e.endsWith(".json")?e:`${e}.json`,zr=e=>{if(e.media_metadata){const t=e.media_metadata;return Object.entries(t).map(([r,s])=>{const n=s.m?.includes("png")?"png":"jpg";return`https://i.redd.it/${r}.${n}`})}return e.url?[e.url]:[]},Ur=({date:e,reddit:t,urls:r,src:s,desc:n,artistId:o,characterIds:d})=>({date:e,reddit:Te(t),url:St(r),src:s,desc:n,artistId:o,characterIds:St(d)}),Wr=async e=>{const t=await fetch("/api/posts",{method:"POST",headers:jr,body:JSON.stringify(Ur(e))}),r=await t.json();if(!t.ok)throw new Error(r.error||"Failed to add post")},Or=e=>{const t=e.trim();return _t.some(s=>s.id===t)||"Artist ID does not exist."},Te=e=>{if(!e)return"";try{const t=new URL(e);t.hostname==="old.reddit.com"&&(t.hostname="www.reddit.com");const{origin:r,pathname:s}=t,n=s.split("/").filter(Boolean);return n.length>=4&&n[0]==="r"&&n[2]==="comments"?`${r}/${n.slice(0,4).join("/")}`:""}catch{return""}},Mr=async e=>{if(!e)return null;try{const t=await fetch(Lr(e));if(!t.ok)throw new Error("Failed to fetch Reddit data");const s=(await t.json())[0]?.data?.children[0]?.data;if(!s)throw new Error("Invalid Reddit data structure");const n=s.created_utc?s.created_utc*1e3:null,o=s.selftext??"",d=zr(s);return{createdDate:n,description:o,imageUrls:d}}catch(t){return console.error("Error fetching Reddit data:",t),null}},Vt=(e,t)=>{const r=Te(e.trim());return t?.some(n=>Te(n.reddit)===r)?"This Reddit URL already exists.":!0},he={containerBox:{maxWidth:900,mx:"auto",p:3},inputBoxSmall:{flex:"1 1 220px",minWidth:220},actionButton:{minWidth:150}},Nr=()=>{const{register:e,handleSubmit:t,reset:r,watch:s,setValue:n,getValues:o,setError:d,clearErrors:c,formState:{errors:m,isSubmitting:E}}=Bt(),[S,A]=Y.useState(!1),{posts:x}=rr(),j=Y.useRef(null),L=s("reddit"),F=Y.useCallback(v=>{j.current&&clearTimeout(j.current),j.current=setTimeout(()=>{const T=Vt(v.trim(),x);T!==!0?d("reddit",{type:"validate",message:T}):c("reddit")},500)},[d,c,x]),J=async v=>{try{await Wr(v),alert("Post added successfully!"),r()}catch(T){alert(`Error: ${T instanceof Error?T.message:"Unknown error"}`)}},le=async()=>{const v=o("reddit");if(!v){alert("Please enter a Reddit URL first.");return}const T=Vt(v,x);if(T!==!0){alert(T);return}A(!0);try{const P=await Mr(Te(v));if(!P){alert("Failed to load Reddit data");return}P.createdDate&&n("date",P.createdDate,{shouldValidate:!0}),P.description&&n("desc",P.description,{shouldValidate:!0}),P.imageUrls?.length&&n("urls",P.imageUrls.join(", "),{shouldValidate:!0})}finally{A(!1)}};return Y.useEffect(()=>{if(!L){c("reddit");return}F(L)},[L,F,c]),y.jsx(O,{sx:he.containerBox,children:y.jsx("form",{onSubmit:t(J),noValidate:!0,children:y.jsxs(ne,{spacing:4,children:[y.jsxs(O,{children:[y.jsx(se,{variant:"h6",gutterBottom:!0,children:"Post Details"}),y.jsxs(ne,{direction:"row",spacing:2,flexWrap:"wrap",children:[y.jsx(O,{sx:he.inputBoxSmall,children:y.jsx(Z,{label:"UNIX Timestamp",type:"number",error:!!m.date,helperText:m.date?.message,fullWidth:!0,...e("date",{required:"Date is required",valueAsNumber:!0}),slotProps:{inputLabel:{shrink:!!s("date")}}})}),y.jsx(O,{sx:he.inputBoxSmall,children:y.jsx(Z,{label:"Artist ID",error:!!m.artistId,helperText:m.artistId?.message,fullWidth:!0,...e("artistId",{required:"Artist ID is required",validate:Or}),slotProps:{inputLabel:{shrink:!!s("artistId")}}})}),y.jsx(O,{sx:he.inputBoxSmall,children:y.jsx(Z,{label:"Source URL",error:!!m.src,helperText:m.src?.message,fullWidth:!0,...e("src",{required:"Source URL is required"}),slotProps:{inputLabel:{shrink:!!s("src")}}})})]})]}),y.jsxs(O,{children:[y.jsx(se,{variant:"h6",gutterBottom:!0,children:"URLs"}),y.jsxs(ne,{spacing:2,children:[y.jsx(Z,{label:"Image URLs (comma separated)",error:!!m.urls,helperText:m.urls?.message,fullWidth:!0,...e("urls",{required:"Image URLs are required"}),slotProps:{inputLabel:{shrink:!!s("urls")}}}),y.jsx(Z,{label:"Character IDs (comma separated)",error:!!m.characterIds,helperText:m.characterIds?.message,fullWidth:!0,...e("characterIds",{required:"Character IDs are required"}),slotProps:{inputLabel:{shrink:!!s("characterIds")}}})]})]}),y.jsxs(O,{children:[y.jsx(se,{variant:"h6",gutterBottom:!0,children:"Description"}),y.jsx(Z,{label:"Description",error:!!m.desc,helperText:m.desc?.message,multiline:!0,minRows:6,fullWidth:!0,...e("desc",{required:"Description is required"}),slotProps:{inputLabel:{shrink:!!s("desc")}}})]}),y.jsxs(O,{children:[y.jsx(se,{variant:"h6",gutterBottom:!0,children:"Reddit URL"}),y.jsx(Z,{label:"Reddit URL",error:!!m.reddit,helperText:m.reddit?.message,fullWidth:!0,...e("reddit",{required:"Reddit URL is required"}),slotProps:{inputLabel:{shrink:!!s("reddit")}}})]}),y.jsxs(ne,{direction:"row",spacing:2,justifyContent:"center",flexWrap:"wrap",children:[y.jsx(Oe,{variant:"contained",onClick:le,disabled:S,sx:he.actionButton,children:S?"Loading...":"Fetch from Reddit"}),y.jsx(Oe,{type:"submit",variant:"contained",disabled:E,sx:he.actionButton,children:E?"Submitting...":"Add Post"})]})]})})})},At=["demoman.webp","engineer.webp","heavy.webp","medic.webp","pyro.webp","scout.webp","sniper.webp","soldier.webp","spy.webp"],$r={"Content-Type":"application/json"},qr=/^(https?:\/\/)?(www\.)?x\.com\/.+$/i,Hr=/^https?:\/\/(www\.)?pixiv\.net\/.+$/i,Gr=async e=>{const t=e.trim();return await new Promise(s=>{setTimeout(()=>{s(_t.some(n=>n.id===t))},200)})?"Artist ID already exists.":!0},Jr=async e=>{const t=await fetch("/api/artists",{method:"POST",headers:$r,body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.error||"Failed to add artist")},Kr=()=>{const e=Math.floor(Math.random()*At.length);return`/portraits/placeholders/${At[e]}`},xe={containerBox:{maxWidth:600,mx:"auto",p:3},artistIdBox:{flex:"1 1 220px",minWidth:220},nameBox:{flex:"1 1 220px",minWidth:220},twitterBox:{flex:"1 1 260px",minWidth:260},pixivBox:{flex:"1 1 260px",minWidth:260},submitButton:{minWidth:150}},Xr=()=>{const{register:e,handleSubmit:t,reset:r,watch:s,setError:n,clearErrors:o,formState:{errors:d,isSubmitting:c}}=Bt(),m=s("id"),E=Y.useRef(null),S=Y.useCallback(x=>{E.current&&clearTimeout(E.current),E.current=setTimeout(async()=>{const j=await Gr(x.trim());typeof j=="string"&&j.length>0?n("id",{type:"validate",message:j}):o("id")},500)},[n,o]),A=async x=>{const j={id:x.id.trim(),name:x.name.trim(),...x.linkTwitter?.trim()&&{linkTwitter:x.linkTwitter.trim()},...x.linkPixiv?.trim()&&{linkPixiv:x.linkPixiv.trim()},portrait:Kr()};try{await Jr(j),alert("Artist added successfully!"),r()}catch(L){alert(`Error: ${L instanceof Error?L.message:"Unknown error"}`)}};return Y.useEffect(()=>{if(!m){o("id");return}S(m)},[m,S,o]),y.jsx(O,{sx:xe.containerBox,children:y.jsx("form",{onSubmit:t(A),noValidate:!0,children:y.jsxs(ne,{spacing:3,children:[y.jsxs(O,{children:[y.jsx(se,{variant:"h6",gutterBottom:!0,children:"Artist Information"}),y.jsxs(ne,{direction:"row",spacing:2,flexWrap:"wrap",children:[y.jsx(O,{sx:xe.artistIdBox,children:y.jsx(Z,{label:"Artist ID",error:!!d.id,helperText:d.id?.message,fullWidth:!0,...e("id",{required:"ID is required"}),slotProps:{inputLabel:{shrink:!!s("id")}}})}),y.jsx(O,{sx:xe.nameBox,children:y.jsx(Z,{label:"Name",error:!!d.name,helperText:d.name?.message,fullWidth:!0,...e("name",{required:"Name is required"}),slotProps:{inputLabel:{shrink:!!s("name")}}})})]})]}),y.jsxs(O,{children:[y.jsx(se,{variant:"h6",gutterBottom:!0,children:"Links"}),y.jsxs(ne,{direction:"row",spacing:2,flexWrap:"wrap",children:[y.jsx(O,{sx:xe.twitterBox,children:y.jsx(Z,{label:"Twitter Link",error:!!d.linkTwitter,helperText:d.linkTwitter?.message,fullWidth:!0,...e("linkTwitter",{pattern:{value:qr,message:"Invalid Twitter URL"}}),slotProps:{inputLabel:{shrink:!!s("linkTwitter")}}})}),y.jsx(O,{sx:xe.pixivBox,children:y.jsx(Z,{label:"Pixiv Link",error:!!d.linkPixiv,helperText:d.linkPixiv?.message,fullWidth:!0,...e("linkPixiv",{pattern:{value:Hr,message:"Invalid Pixiv URL"}}),slotProps:{inputLabel:{shrink:!!s("linkPixiv")}}})})]})]}),y.jsx(ne,{direction:"row",justifyContent:"center",children:y.jsx(Oe,{type:"submit",variant:"contained",disabled:c,sx:xe.submitButton,children:c?"Submitting...":"Add Artist"})})]})})})},Se={adminContainer:{m:4,p:3,bgcolor:"background.paper",borderRadius:1,boxShadow:3},header:{mb:3,color:"primary.main",fontWeight:600},contentTitle:e=>({mb:2,pb:1,borderBottom:`2px solid ${e.palette.primary.light}`,color:"primary.main"}),paperFullHeight:{p:3,height:"100%"},accordionMargin:{mb:2}},Yr=()=>{const e=ir();return y.jsxs(ne,{sx:Se.adminContainer,direction:"column",spacing:3,children:[y.jsx(se,{variant:"h4",component:"h2",sx:Se.header,children:"Admin Dashboard"}),y.jsxs(sr,{elevation:3,sx:Se.paperFullHeight,children:[y.jsx(se,{variant:"h6",component:"h3",sx:Se.contentTitle(e),children:"Content Submission"}),y.jsxs(at,{sx:Se.accordionMargin,children:[y.jsx(ot,{expandIcon:y.jsx(nt,{}),children:y.jsx(se,{variant:"subtitle1",children:"Reddit Posts"})}),y.jsx(lt,{children:y.jsx(Nr,{})})]}),y.jsxs(at,{children:[y.jsx(ot,{expandIcon:y.jsx(nt,{}),children:y.jsx(se,{variant:"subtitle1",children:"Artists"})}),y.jsx(lt,{children:y.jsx(Xr,{})})]})]})]})},Qr=Object.freeze(Object.defineProperty({__proto__:null,default:Yr},Symbol.toStringTag,{value:"Module"})),li={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"/src/renderer/+onRenderClient.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:ar}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/src/pages/admin/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:Qr}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"/src/renderer/+config.ts",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}}};export{li as configValuesSerialized};
