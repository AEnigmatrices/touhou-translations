import{u as l,r as e,I as f,J as C,K as D,L as d,M as g}from"./chunk-ByRXgnm_.js";const k=()=>{const a=l(),[c,s]=e.useState({posts:a.appData?.posts||[],artists:a.appData?.artists||[],characters:a.appData?.characters||[],loading:!a.appData,error:null});return e.useEffect(()=>{if(a.appData)return;(async()=>{try{s(t=>({...t,loading:!0,error:null}));const[r,o,n]=await Promise.all([f(),C(),D()]),p=d(r),i=g(r),u=o.map(t=>({...t,artworkCount:p[t.id]??0})),h=n.map(t=>({...t,artworkCount:i[t.id]??0}));s({posts:r,artists:u,characters:h,loading:!1,error:null})}catch(r){s(o=>({...o,loading:!1,error:r instanceof Error?r:new Error("Failed to fetch data")}))}})()},[a.appData]),c};export{k as u};
