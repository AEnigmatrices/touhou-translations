import{g as Wt,a as Ft,r as w,j as $,t as bt,e as Ht,v as zt,b as Nt,s as et,h as ur,c as xt,k as Vt,m as ut,n as Ut,B as at,u as fr,w as dr,x as mr,y as vr,z as hr,A as gr}from"./chunk-P_eg2a5L.js";import{P as yr,g as wr,a as br,b as xr}from"./chunk-Boe_XrbN.js";import{a as st,u as Ye,d as Pt,T as Pr,b as Ge,c as ft}from"./chunk-IlA3_y79.js";import{u as Or,i as Ot}from"./chunk-Dw-W3MXr.js";import{u as kr}from"./chunk-K0-kt-Ub.js";import{o as kt,P as Tr,u as Cr,a as Rr}from"./chunk-D_IixblH.js";import{G as Er,T as Ar}from"./chunk-Bl_2NwSz.js";import{I as Sr}from"./chunk-Br5I5wOx.js";import{C as $r}from"./chunk-B1UN8m8-.js";import{T as jr}from"./chunk-CIDMH_qT.js";var B="top",N="bottom",V="right",I="left",dt="auto",ze=[B,N,V,I],xe="start",Fe="end",Mr="clippingParents",qt="viewport",Me="popper",Dr="reference",Tt=ze.reduce(function(e,t){return e.concat([t+"-"+xe,t+"-"+Fe])},[]),Xt=[].concat(ze,[dt]).reduce(function(e,t){return e.concat([t,t+"-"+xe,t+"-"+Fe])},[]),Lr="beforeRead",Br="read",Ir="afterRead",Wr="beforeMain",Fr="main",Hr="afterMain",zr="beforeWrite",Nr="write",Vr="afterWrite",Ur=[Lr,Br,Ir,Wr,Fr,Hr,zr,Nr,Vr];function J(e){return e?(e.nodeName||"").toLowerCase():null}function W(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function fe(e){var t=W(e).Element;return e instanceof t||e instanceof Element}function z(e){var t=W(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function mt(e){if(typeof ShadowRoot>"u")return!1;var t=W(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function qr(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var o=t.styles[r]||{},n=t.attributes[r]||{},a=t.elements[r];!z(a)||!J(a)||(Object.assign(a.style,o),Object.keys(n).forEach(function(l){var s=n[l];s===!1?a.removeAttribute(l):a.setAttribute(l,s===!0?"":s)}))})}function Xr(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(o){var n=t.elements[o],a=t.attributes[o]||{},l=Object.keys(t.styles.hasOwnProperty(o)?t.styles[o]:r[o]),s=l.reduce(function(i,c){return i[c]="",i},{});!z(n)||!J(n)||(Object.assign(n.style,s),Object.keys(a).forEach(function(i){n.removeAttribute(i)}))})}}const Yr={name:"applyStyles",enabled:!0,phase:"write",fn:qr,effect:Xr,requires:["computeStyles"]};function Z(e){return e.split("-")[0]}var ue=Math.max,Je=Math.min,Pe=Math.round;function pt(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Yt(){return!/^((?!chrome|android).)*safari/i.test(pt())}function Oe(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var o=e.getBoundingClientRect(),n=1,a=1;t&&z(e)&&(n=e.offsetWidth>0&&Pe(o.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Pe(o.height)/e.offsetHeight||1);var l=fe(e)?W(e):window,s=l.visualViewport,i=!Yt()&&r,c=(o.left+(i&&s?s.offsetLeft:0))/n,p=(o.top+(i&&s?s.offsetTop:0))/a,d=o.width/n,b=o.height/a;return{width:d,height:b,top:p,right:c+d,bottom:p+b,left:c,x:c,y:p}}function vt(e){var t=Oe(e),r=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:o}}function Gt(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&mt(r)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function re(e){return W(e).getComputedStyle(e)}function Gr(e){return["table","td","th"].indexOf(J(e))>=0}function ie(e){return((fe(e)?e.ownerDocument:e.document)||window.document).documentElement}function tt(e){return J(e)==="html"?e:e.assignedSlot||e.parentNode||(mt(e)?e.host:null)||ie(e)}function Ct(e){return!z(e)||re(e).position==="fixed"?null:e.offsetParent}function _r(e){var t=/firefox/i.test(pt()),r=/Trident/i.test(pt());if(r&&z(e)){var o=re(e);if(o.position==="fixed")return null}var n=tt(e);for(mt(n)&&(n=n.host);z(n)&&["html","body"].indexOf(J(n))<0;){var a=re(n);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return n;n=n.parentNode}return null}function Ne(e){for(var t=W(e),r=Ct(e);r&&Gr(r)&&re(r).position==="static";)r=Ct(r);return r&&(J(r)==="html"||J(r)==="body"&&re(r).position==="static")?t:r||_r(e)||t}function ht(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ie(e,t,r){return ue(e,Je(t,r))}function Qr(e,t,r){var o=Ie(e,t,r);return o>r?r:o}function _t(){return{top:0,right:0,bottom:0,left:0}}function Qt(e){return Object.assign({},_t(),e)}function Kt(e,t){return t.reduce(function(r,o){return r[o]=e,r},{})}var Kr=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,Qt(typeof t!="number"?t:Kt(t,ze))};function Zr(e){var t,r=e.state,o=e.name,n=e.options,a=r.elements.arrow,l=r.modifiersData.popperOffsets,s=Z(r.placement),i=ht(s),c=[I,V].indexOf(s)>=0,p=c?"height":"width";if(!(!a||!l)){var d=Kr(n.padding,r),b=vt(a),m=i==="y"?B:I,O=i==="y"?N:V,h=r.rects.reference[p]+r.rects.reference[i]-l[i]-r.rects.popper[p],g=l[i]-r.rects.reference[i],x=Ne(a),T=x?i==="y"?x.clientHeight||0:x.clientWidth||0:0,k=h/2-g/2,v=d[m],u=T-b[p]-d[O],f=T/2-b[p]/2+k,y=Ie(v,f,u),A=i;r.modifiersData[o]=(t={},t[A]=y,t.centerOffset=y-f,t)}}function Jr(e){var t=e.state,r=e.options,o=r.element,n=o===void 0?"[data-popper-arrow]":o;n!=null&&(typeof n=="string"&&(n=t.elements.popper.querySelector(n),!n)||Gt(t.elements.popper,n)&&(t.elements.arrow=n))}const eo={name:"arrow",enabled:!0,phase:"main",fn:Zr,effect:Jr,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ke(e){return e.split("-")[1]}var to={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ro(e,t){var r=e.x,o=e.y,n=t.devicePixelRatio||1;return{x:Pe(r*n)/n||0,y:Pe(o*n)/n||0}}function Rt(e){var t,r=e.popper,o=e.popperRect,n=e.placement,a=e.variation,l=e.offsets,s=e.position,i=e.gpuAcceleration,c=e.adaptive,p=e.roundOffsets,d=e.isFixed,b=l.x,m=b===void 0?0:b,O=l.y,h=O===void 0?0:O,g=typeof p=="function"?p({x:m,y:h}):{x:m,y:h};m=g.x,h=g.y;var x=l.hasOwnProperty("x"),T=l.hasOwnProperty("y"),k=I,v=B,u=window;if(c){var f=Ne(r),y="clientHeight",A="clientWidth";if(f===W(r)&&(f=ie(r),re(f).position!=="static"&&s==="absolute"&&(y="scrollHeight",A="scrollWidth")),f=f,n===B||(n===I||n===V)&&a===Fe){v=N;var E=d&&f===u&&u.visualViewport?u.visualViewport.height:f[y];h-=E-o.height,h*=i?1:-1}if(n===I||(n===B||n===N)&&a===Fe){k=V;var C=d&&f===u&&u.visualViewport?u.visualViewport.width:f[A];m-=C-o.width,m*=i?1:-1}}var R=Object.assign({position:s},c&&to),L=p===!0?ro({x:m,y:h},W(r)):{x:m,y:h};if(m=L.x,h=L.y,i){var S;return Object.assign({},R,(S={},S[v]=T?"0":"",S[k]=x?"0":"",S.transform=(u.devicePixelRatio||1)<=1?"translate("+m+"px, "+h+"px)":"translate3d("+m+"px, "+h+"px, 0)",S))}return Object.assign({},R,(t={},t[v]=T?h+"px":"",t[k]=x?m+"px":"",t.transform="",t))}function oo(e){var t=e.state,r=e.options,o=r.gpuAcceleration,n=o===void 0?!0:o,a=r.adaptive,l=a===void 0?!0:a,s=r.roundOffsets,i=s===void 0?!0:s,c={placement:Z(t.placement),variation:ke(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Rt(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:l,roundOffsets:i})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Rt(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:i})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const no={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:oo,data:{}};var _e={passive:!0};function ao(e){var t=e.state,r=e.instance,o=e.options,n=o.scroll,a=n===void 0?!0:n,l=o.resize,s=l===void 0?!0:l,i=W(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach(function(p){p.addEventListener("scroll",r.update,_e)}),s&&i.addEventListener("resize",r.update,_e),function(){a&&c.forEach(function(p){p.removeEventListener("scroll",r.update,_e)}),s&&i.removeEventListener("resize",r.update,_e)}}const io={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ao,data:{}};var so={left:"right",right:"left",bottom:"top",top:"bottom"};function Ze(e){return e.replace(/left|right|bottom|top/g,function(t){return so[t]})}var po={start:"end",end:"start"};function Et(e){return e.replace(/start|end/g,function(t){return po[t]})}function gt(e){var t=W(e),r=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:r,scrollTop:o}}function yt(e){return Oe(ie(e)).left+gt(e).scrollLeft}function lo(e,t){var r=W(e),o=ie(e),n=r.visualViewport,a=o.clientWidth,l=o.clientHeight,s=0,i=0;if(n){a=n.width,l=n.height;var c=Yt();(c||!c&&t==="fixed")&&(s=n.offsetLeft,i=n.offsetTop)}return{width:a,height:l,x:s+yt(e),y:i}}function co(e){var t,r=ie(e),o=gt(e),n=(t=e.ownerDocument)==null?void 0:t.body,a=ue(r.scrollWidth,r.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),l=ue(r.scrollHeight,r.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),s=-o.scrollLeft+yt(e),i=-o.scrollTop;return re(n||r).direction==="rtl"&&(s+=ue(r.clientWidth,n?n.clientWidth:0)-a),{width:a,height:l,x:s,y:i}}function wt(e){var t=re(e),r=t.overflow,o=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+n+o)}function Zt(e){return["html","body","#document"].indexOf(J(e))>=0?e.ownerDocument.body:z(e)&&wt(e)?e:Zt(tt(e))}function We(e,t){var r;t===void 0&&(t=[]);var o=Zt(e),n=o===((r=e.ownerDocument)==null?void 0:r.body),a=W(o),l=n?[a].concat(a.visualViewport||[],wt(o)?o:[]):o,s=t.concat(l);return n?s:s.concat(We(tt(l)))}function lt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function uo(e,t){var r=Oe(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function At(e,t,r){return t===qt?lt(lo(e,r)):fe(t)?uo(t,r):lt(co(ie(e)))}function fo(e){var t=We(tt(e)),r=["absolute","fixed"].indexOf(re(e).position)>=0,o=r&&z(e)?Ne(e):e;return fe(o)?t.filter(function(n){return fe(n)&&Gt(n,o)&&J(n)!=="body"}):[]}function mo(e,t,r,o){var n=t==="clippingParents"?fo(e):[].concat(t),a=[].concat(n,[r]),l=a[0],s=a.reduce(function(i,c){var p=At(e,c,o);return i.top=ue(p.top,i.top),i.right=Je(p.right,i.right),i.bottom=Je(p.bottom,i.bottom),i.left=ue(p.left,i.left),i},At(e,l,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Jt(e){var t=e.reference,r=e.element,o=e.placement,n=o?Z(o):null,a=o?ke(o):null,l=t.x+t.width/2-r.width/2,s=t.y+t.height/2-r.height/2,i;switch(n){case B:i={x:l,y:t.y-r.height};break;case N:i={x:l,y:t.y+t.height};break;case V:i={x:t.x+t.width,y:s};break;case I:i={x:t.x-r.width,y:s};break;default:i={x:t.x,y:t.y}}var c=n?ht(n):null;if(c!=null){var p=c==="y"?"height":"width";switch(a){case xe:i[c]=i[c]-(t[p]/2-r[p]/2);break;case Fe:i[c]=i[c]+(t[p]/2-r[p]/2);break}}return i}function He(e,t){t===void 0&&(t={});var r=t,o=r.placement,n=o===void 0?e.placement:o,a=r.strategy,l=a===void 0?e.strategy:a,s=r.boundary,i=s===void 0?Mr:s,c=r.rootBoundary,p=c===void 0?qt:c,d=r.elementContext,b=d===void 0?Me:d,m=r.altBoundary,O=m===void 0?!1:m,h=r.padding,g=h===void 0?0:h,x=Qt(typeof g!="number"?g:Kt(g,ze)),T=b===Me?Dr:Me,k=e.rects.popper,v=e.elements[O?T:b],u=mo(fe(v)?v:v.contextElement||ie(e.elements.popper),i,p,l),f=Oe(e.elements.reference),y=Jt({reference:f,element:k,placement:n}),A=lt(Object.assign({},k,y)),E=b===Me?A:f,C={top:u.top-E.top+x.top,bottom:E.bottom-u.bottom+x.bottom,left:u.left-E.left+x.left,right:E.right-u.right+x.right},R=e.modifiersData.offset;if(b===Me&&R){var L=R[n];Object.keys(C).forEach(function(S){var U=[V,N].indexOf(S)>=0?1:-1,q=[B,N].indexOf(S)>=0?"y":"x";C[S]+=L[q]*U})}return C}function vo(e,t){t===void 0&&(t={});var r=t,o=r.placement,n=r.boundary,a=r.rootBoundary,l=r.padding,s=r.flipVariations,i=r.allowedAutoPlacements,c=i===void 0?Xt:i,p=ke(o),d=p?s?Tt:Tt.filter(function(O){return ke(O)===p}):ze,b=d.filter(function(O){return c.indexOf(O)>=0});b.length===0&&(b=d);var m=b.reduce(function(O,h){return O[h]=He(e,{placement:h,boundary:n,rootBoundary:a,padding:l})[Z(h)],O},{});return Object.keys(m).sort(function(O,h){return m[O]-m[h]})}function ho(e){if(Z(e)===dt)return[];var t=Ze(e);return[Et(e),t,Et(t)]}function go(e){var t=e.state,r=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var n=r.mainAxis,a=n===void 0?!0:n,l=r.altAxis,s=l===void 0?!0:l,i=r.fallbackPlacements,c=r.padding,p=r.boundary,d=r.rootBoundary,b=r.altBoundary,m=r.flipVariations,O=m===void 0?!0:m,h=r.allowedAutoPlacements,g=t.options.placement,x=Z(g),T=x===g,k=i||(T||!O?[Ze(g)]:ho(g)),v=[g].concat(k).reduce(function(Y,F){return Y.concat(Z(F)===dt?vo(t,{placement:F,boundary:p,rootBoundary:d,padding:c,flipVariations:O,allowedAutoPlacements:h}):F)},[]),u=t.rects.reference,f=t.rects.popper,y=new Map,A=!0,E=v[0],C=0;C<v.length;C++){var R=v[C],L=Z(R),S=ke(R)===xe,U=[B,N].indexOf(L)>=0,q=U?"width":"height",M=He(t,{placement:R,boundary:p,rootBoundary:d,altBoundary:b,padding:c}),j=U?S?V:I:S?N:B;u[q]>f[q]&&(j=Ze(j));var X=Ze(j),ee=[];if(a&&ee.push(M[L]<=0),s&&ee.push(M[j]<=0,M[X]<=0),ee.every(function(Y){return Y})){E=R,A=!1;break}y.set(R,ee)}if(A)for(var Q=O?3:1,de=function(F){var oe=v.find(function(ne){var H=y.get(ne);if(H)return H.slice(0,F).every(function(ve){return ve})});if(oe)return E=oe,"break"},te=Q;te>0;te--){var me=de(te);if(me==="break")break}t.placement!==E&&(t.modifiersData[o]._skip=!0,t.placement=E,t.reset=!0)}}const yo={name:"flip",enabled:!0,phase:"main",fn:go,requiresIfExists:["offset"],data:{_skip:!1}};function St(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function $t(e){return[B,V,N,I].some(function(t){return e[t]>=0})}function wo(e){var t=e.state,r=e.name,o=t.rects.reference,n=t.rects.popper,a=t.modifiersData.preventOverflow,l=He(t,{elementContext:"reference"}),s=He(t,{altBoundary:!0}),i=St(l,o),c=St(s,n,a),p=$t(i),d=$t(c);t.modifiersData[r]={referenceClippingOffsets:i,popperEscapeOffsets:c,isReferenceHidden:p,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":d})}const bo={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:wo};function xo(e,t,r){var o=Z(e),n=[I,B].indexOf(o)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,l=a[0],s=a[1];return l=l||0,s=(s||0)*n,[I,V].indexOf(o)>=0?{x:s,y:l}:{x:l,y:s}}function Po(e){var t=e.state,r=e.options,o=e.name,n=r.offset,a=n===void 0?[0,0]:n,l=Xt.reduce(function(p,d){return p[d]=xo(d,t.rects,a),p},{}),s=l[t.placement],i=s.x,c=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=i,t.modifiersData.popperOffsets.y+=c),t.modifiersData[o]=l}const Oo={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Po};function ko(e){var t=e.state,r=e.name;t.modifiersData[r]=Jt({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const To={name:"popperOffsets",enabled:!0,phase:"read",fn:ko,data:{}};function Co(e){return e==="x"?"y":"x"}function Ro(e){var t=e.state,r=e.options,o=e.name,n=r.mainAxis,a=n===void 0?!0:n,l=r.altAxis,s=l===void 0?!1:l,i=r.boundary,c=r.rootBoundary,p=r.altBoundary,d=r.padding,b=r.tether,m=b===void 0?!0:b,O=r.tetherOffset,h=O===void 0?0:O,g=He(t,{boundary:i,rootBoundary:c,padding:d,altBoundary:p}),x=Z(t.placement),T=ke(t.placement),k=!T,v=ht(x),u=Co(v),f=t.modifiersData.popperOffsets,y=t.rects.reference,A=t.rects.popper,E=typeof h=="function"?h(Object.assign({},t.rects,{placement:t.placement})):h,C=typeof E=="number"?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),R=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,L={x:0,y:0};if(f){if(a){var S,U=v==="y"?B:I,q=v==="y"?N:V,M=v==="y"?"height":"width",j=f[v],X=j+g[U],ee=j-g[q],Q=m?-A[M]/2:0,de=T===xe?y[M]:A[M],te=T===xe?-A[M]:-y[M],me=t.elements.arrow,Y=m&&me?vt(me):{width:0,height:0},F=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:_t(),oe=F[U],ne=F[q],H=Ie(0,y[M],Y[M]),ve=k?y[M]/2-Q-H-oe-C.mainAxis:de-H-oe-C.mainAxis,rt=k?-y[M]/2+Q+H+ne+C.mainAxis:te+H+ne+C.mainAxis,he=t.elements.arrow&&Ne(t.elements.arrow),G=he?v==="y"?he.clientTop||0:he.clientLeft||0:0,ge=(S=R?.[v])!=null?S:0,se=j+ve-ge-G,ye=j+rt-ge,Te=Ie(m?Je(X,se):X,j,m?ue(ee,ye):ee);f[v]=Te,L[v]=Te-j}if(s){var pe,we=v==="x"?B:I,Ce=v==="x"?N:V,K=f[u],le=u==="y"?"height":"width",Re=K+g[we],Ee=K-g[Ce],Ae=[B,I].indexOf(x)!==-1,Ve=(pe=R?.[u])!=null?pe:0,Ue=Ae?Re:K-y[le]-A[le]-Ve+C.altAxis,be=Ae?K+y[le]+A[le]-Ve-C.altAxis:Ee,qe=m&&Ae?Qr(Ue,K,be):Ie(m?Ue:Re,K,m?be:Ee);f[u]=qe,L[u]=qe-K}t.modifiersData[o]=L}}const Eo={name:"preventOverflow",enabled:!0,phase:"main",fn:Ro,requiresIfExists:["offset"]};function Ao(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function So(e){return e===W(e)||!z(e)?gt(e):Ao(e)}function $o(e){var t=e.getBoundingClientRect(),r=Pe(t.width)/e.offsetWidth||1,o=Pe(t.height)/e.offsetHeight||1;return r!==1||o!==1}function jo(e,t,r){r===void 0&&(r=!1);var o=z(t),n=z(t)&&$o(t),a=ie(t),l=Oe(e,n,r),s={scrollLeft:0,scrollTop:0},i={x:0,y:0};return(o||!o&&!r)&&((J(t)!=="body"||wt(a))&&(s=So(t)),z(t)?(i=Oe(t,!0),i.x+=t.clientLeft,i.y+=t.clientTop):a&&(i.x=yt(a))),{x:l.left+s.scrollLeft-i.x,y:l.top+s.scrollTop-i.y,width:l.width,height:l.height}}function Mo(e){var t=new Map,r=new Set,o=[];e.forEach(function(a){t.set(a.name,a)});function n(a){r.add(a.name);var l=[].concat(a.requires||[],a.requiresIfExists||[]);l.forEach(function(s){if(!r.has(s)){var i=t.get(s);i&&n(i)}}),o.push(a)}return e.forEach(function(a){r.has(a.name)||n(a)}),o}function Do(e){var t=Mo(e);return Ur.reduce(function(r,o){return r.concat(t.filter(function(n){return n.phase===o}))},[])}function Lo(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function Bo(e){var t=e.reduce(function(r,o){var n=r[o.name];return r[o.name]=n?Object.assign({},n,o,{options:Object.assign({},n.options,o.options),data:Object.assign({},n.data,o.data)}):o,r},{});return Object.keys(t).map(function(r){return t[r]})}var jt={placement:"bottom",modifiers:[],strategy:"absolute"};function Mt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function Io(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,o=r===void 0?[]:r,n=t.defaultOptions,a=n===void 0?jt:n;return function(s,i,c){c===void 0&&(c=a);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},jt,a),modifiersData:{},elements:{reference:s,popper:i},attributes:{},styles:{}},d=[],b=!1,m={state:p,setOptions:function(x){var T=typeof x=="function"?x(p.options):x;h(),p.options=Object.assign({},a,p.options,T),p.scrollParents={reference:fe(s)?We(s):s.contextElement?We(s.contextElement):[],popper:We(i)};var k=Do(Bo([].concat(o,p.options.modifiers)));return p.orderedModifiers=k.filter(function(v){return v.enabled}),O(),m.update()},forceUpdate:function(){if(!b){var x=p.elements,T=x.reference,k=x.popper;if(Mt(T,k)){p.rects={reference:jo(T,Ne(k),p.options.strategy==="fixed"),popper:vt(k)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(C){return p.modifiersData[C.name]=Object.assign({},C.data)});for(var v=0;v<p.orderedModifiers.length;v++){if(p.reset===!0){p.reset=!1,v=-1;continue}var u=p.orderedModifiers[v],f=u.fn,y=u.options,A=y===void 0?{}:y,E=u.name;typeof f=="function"&&(p=f({state:p,options:A,name:E,instance:m})||p)}}}},update:Lo(function(){return new Promise(function(g){m.forceUpdate(),g(p)})}),destroy:function(){h(),b=!0}};if(!Mt(s,i))return m;m.setOptions(c).then(function(g){!b&&c.onFirstUpdate&&c.onFirstUpdate(g)});function O(){p.orderedModifiers.forEach(function(g){var x=g.name,T=g.options,k=T===void 0?{}:T,v=g.effect;if(typeof v=="function"){var u=v({state:p,name:x,instance:m,options:k}),f=function(){};d.push(u||f)}})}function h(){d.forEach(function(g){return g()}),d=[]}return m}}var Wo=[io,To,no,Yr,Oo,yo,Eo,eo,bo],Fo=Io({defaultModifiers:Wo});function Ho(e){return Wt("MuiPopper",e)}Ft("MuiPopper",["root"]);function zo(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function ct(e){return typeof e=="function"?e():e}function No(e){return e.nodeType!==void 0}const Vo=e=>{const{classes:t}=e;return Ht({root:["root"]},Ho,t)},Uo={},qo=w.forwardRef(function(t,r){const{anchorEl:o,children:n,direction:a,disablePortal:l,modifiers:s,open:i,placement:c,popperOptions:p,popperRef:d,slotProps:b={},slots:m={},TransitionProps:O,ownerState:h,...g}=t,x=w.useRef(null),T=st(x,r),k=w.useRef(null),v=st(k,d),u=w.useRef(v);bt(()=>{u.current=v},[v]),w.useImperativeHandle(d,()=>k.current,[]);const f=zo(c,a),[y,A]=w.useState(f),[E,C]=w.useState(ct(o));w.useEffect(()=>{k.current&&k.current.forceUpdate()}),w.useEffect(()=>{o&&C(ct(o))},[o]),bt(()=>{if(!E||!i)return;const q=X=>{A(X.placement)};let M=[{name:"preventOverflow",options:{altBoundary:l}},{name:"flip",options:{altBoundary:l}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:X})=>{q(X)}}];s!=null&&(M=M.concat(s)),p&&p.modifiers!=null&&(M=M.concat(p.modifiers));const j=Fo(E,x.current,{placement:f,...p,modifiers:M});return u.current(j),()=>{j.destroy(),u.current(null)}},[E,l,s,i,p,f]);const R={placement:y};O!==null&&(R.TransitionProps=O);const L=Vo(t),S=m.root??"div",U=Cr({elementType:S,externalSlotProps:b.root,externalForwardedProps:g,additionalProps:{role:"tooltip",ref:T},ownerState:t,className:L.root});return $.jsx(S,{...U,children:typeof n=="function"?n(R):n})}),Xo=w.forwardRef(function(t,r){const{anchorEl:o,children:n,container:a,direction:l="ltr",disablePortal:s=!1,keepMounted:i=!1,modifiers:c,open:p,placement:d="bottom",popperOptions:b=Uo,popperRef:m,style:O,transition:h=!1,slotProps:g={},slots:x={},...T}=t,[k,v]=w.useState(!0),u=()=>{v(!1)},f=()=>{v(!0)};if(!i&&!p&&(!h||k))return null;let y;if(a)y=a;else if(o){const C=ct(o);y=C&&No(C)?kt(C).body:kt(null).body}const A=!p&&i&&(!h||k)?"none":void 0,E=h?{in:p,onEnter:u,onExited:f}:void 0;return $.jsx(Tr,{disablePortal:s,container:y,children:$.jsx(qo,{anchorEl:o,direction:l,disablePortal:s,modifiers:c,ref:r,open:h?!k:p,placement:d,popperOptions:b,popperRef:m,slotProps:g,slots:x,...T,style:{position:"fixed",top:0,left:0,display:A,...O},TransitionProps:E,children:n})})}),Yo=et(Xo,{name:"MuiPopper",slot:"Root"})({}),er=w.forwardRef(function(t,r){const o=zt(),n=Nt({props:t,name:"MuiPopper"}),{anchorEl:a,component:l,components:s,componentsProps:i,container:c,disablePortal:p,keepMounted:d,modifiers:b,open:m,placement:O,popperOptions:h,popperRef:g,transition:x,slots:T,slotProps:k,...v}=n,u=T?.root??s?.Root,f={anchorEl:a,container:c,disablePortal:p,keepMounted:d,modifiers:b,open:m,placement:O,popperOptions:h,popperRef:g,transition:x,...v};return $.jsx(Yo,{as:l,direction:o?"rtl":"ltr",slots:{root:u},slotProps:k??i,...f,ref:r})});function Go(e){return Wt("MuiTooltip",e)}const D=Ft("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function _o(e){return Math.round(e*1e5)/1e5}const Qo=e=>{const{classes:t,disableInteractive:r,arrow:o,touch:n,placement:a}=e,l={popper:["popper",!r&&"popperInteractive",o&&"popperArrow"],tooltip:["tooltip",o&&"tooltipArrow",n&&"touch",`tooltipPlacement${Vt(a.split("-")[0])}`],arrow:["arrow"]};return Ht(l,Go,t)},Ko=et(er,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.popper,!r.disableInteractive&&t.popperInteractive,r.arrow&&t.popperArrow,!r.open&&t.popperClose]}})(ut(({theme:e})=>({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:t})=>!t.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:t})=>!t,style:{pointerEvents:"none"}},{props:({ownerState:t})=>t.arrow,style:{[`&[data-popper-placement*="bottom"] .${D.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${D.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${D.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${D.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:t})=>t.arrow&&!t.isRtl,style:{[`&[data-popper-placement*="right"] .${D.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!!t.isRtl,style:{[`&[data-popper-placement*="right"] .${D.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!t.isRtl,style:{[`&[data-popper-placement*="left"] .${D.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:t})=>t.arrow&&!!t.isRtl,style:{[`&[data-popper-placement*="left"] .${D.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),Zo=et("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.tooltip,r.touch&&t.touch,r.arrow&&t.tooltipArrow,t[`tooltipPlacement${Vt(r.placement.split("-")[0])}`]]}})(ut(({theme:e})=>({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:Ut(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium,[`.${D.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${D.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${D.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${D.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:t})=>t.arrow,style:{position:"relative",margin:0}},{props:({ownerState:t})=>t.touch,style:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${_o(16/14)}em`,fontWeight:e.typography.fontWeightRegular}},{props:({ownerState:t})=>!t.isRtl,style:{[`.${D.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${D.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:t})=>!t.isRtl&&t.touch,style:{[`.${D.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${D.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:t})=>!!t.isRtl,style:{[`.${D.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${D.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:t})=>!!t.isRtl&&t.touch,style:{[`.${D.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${D.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:t})=>t.touch,style:{[`.${D.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:t})=>t.touch,style:{[`.${D.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),Jo=et("span",{name:"MuiTooltip",slot:"Arrow"})(ut(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:Ut(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let Qe=!1;const Dt=new Pr;let De={x:0,y:0};function Ke(e,t){return(r,...o)=>{t&&t(r,...o),e(r,...o)}}const en=w.forwardRef(function(t,r){const o=Nt({props:t,name:"MuiTooltip"}),{arrow:n=!1,children:a,classes:l,components:s={},componentsProps:i={},describeChild:c=!1,disableFocusListener:p=!1,disableHoverListener:d=!1,disableInteractive:b=!1,disableTouchListener:m=!1,enterDelay:O=100,enterNextDelay:h=0,enterTouchDelay:g=700,followCursor:x=!1,id:T,leaveDelay:k=0,leaveTouchDelay:v=1500,onClose:u,onOpen:f,open:y,placement:A="bottom",PopperComponent:E,PopperProps:C={},slotProps:R={},slots:L={},title:S,TransitionComponent:U,TransitionProps:q,...M}=o,j=w.isValidElement(a)?a:$.jsx("span",{children:a}),X=Or(),ee=zt(),[Q,de]=w.useState(),[te,me]=w.useState(null),Y=w.useRef(!1),F=b||x,oe=Ye(),ne=Ye(),H=Ye(),ve=Ye(),[rt,he]=kr({controlled:y,default:!1,name:"Tooltip",state:"open"});let G=rt;const ge=ur(T),se=w.useRef(),ye=Pt(()=>{se.current!==void 0&&(document.body.style.WebkitUserSelect=se.current,se.current=void 0),ve.clear()});w.useEffect(()=>ye,[ye]);const Te=P=>{Dt.clear(),Qe=!0,he(!0),f&&!G&&f(P)},pe=Pt(P=>{Dt.start(800+k,()=>{Qe=!1}),he(!1),u&&G&&u(P),oe.start(X.transitions.duration.shortest,()=>{Y.current=!1})}),we=P=>{Y.current&&P.type!=="touchstart"||(Q&&Q.removeAttribute("title"),ne.clear(),H.clear(),O||Qe&&h?ne.start(Qe?h:O,()=>{Te(P)}):Te(P))},Ce=P=>{ne.clear(),H.start(k,()=>{pe(P)})},[,K]=w.useState(!1),le=P=>{Ot(P.target)||(K(!1),Ce(P))},Re=P=>{Q||de(P.currentTarget),Ot(P.target)&&(K(!0),we(P))},Ee=P=>{Y.current=!0;const ae=j.props;ae.onTouchStart&&ae.onTouchStart(P)},Ae=P=>{Ee(P),H.clear(),oe.clear(),ye(),se.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ve.start(g,()=>{document.body.style.WebkitUserSelect=se.current,we(P)})},Ve=P=>{j.props.onTouchEnd&&j.props.onTouchEnd(P),ye(),H.start(v,()=>{pe(P)})};w.useEffect(()=>{if(!G)return;function P(ae){ae.key==="Escape"&&pe(ae)}return document.addEventListener("keydown",P),()=>{document.removeEventListener("keydown",P)}},[pe,G]);const Ue=st(Rr(j),de,r);!S&&S!==0&&(G=!1);const be=w.useRef(),qe=P=>{const ae=j.props;ae.onMouseMove&&ae.onMouseMove(P),De={x:P.clientX,y:P.clientY},be.current&&be.current.update()},Se={},ot=typeof S=="string";c?(Se.title=!G&&ot&&!d?S:null,Se["aria-describedby"]=G?ge:null):(Se["aria-label"]=ot?S:null,Se["aria-labelledby"]=G&&!ot?ge:null);const _={...Se,...M,...j.props,className:xt(M.className,j.props.className),onTouchStart:Ee,ref:Ue,...x?{onMouseMove:qe}:{}},$e={};m||(_.onTouchStart=Ae,_.onTouchEnd=Ve),d||(_.onMouseOver=Ke(we,_.onMouseOver),_.onMouseLeave=Ke(Ce,_.onMouseLeave),F||($e.onMouseOver=we,$e.onMouseLeave=Ce)),p||(_.onFocus=Ke(Re,_.onFocus),_.onBlur=Ke(le,_.onBlur),F||($e.onFocus=Re,$e.onBlur=le));const ce={...o,isRtl:ee,arrow:n,disableInteractive:F,placement:A,PopperComponentProp:E,touch:Y.current},je=typeof R.popper=="function"?R.popper(ce):R.popper,tr=w.useMemo(()=>{let P=[{name:"arrow",enabled:!!te,options:{element:te,padding:4}}];return C.popperOptions?.modifiers&&(P=P.concat(C.popperOptions.modifiers)),je?.popperOptions?.modifiers&&(P=P.concat(je.popperOptions.modifiers)),{...C.popperOptions,...je?.popperOptions,modifiers:P}},[te,C.popperOptions,je?.popperOptions]),nt=Qo(ce),rr=typeof R.transition=="function"?R.transition(ce):R.transition,Xe={slots:{popper:s.Popper,transition:s.Transition??U,tooltip:s.Tooltip,arrow:s.Arrow,...L},slotProps:{arrow:R.arrow??i.arrow,popper:{...C,...je??i.popper},tooltip:R.tooltip??i.tooltip,transition:{...q,...rr??i.transition}}},[or,nr]=Ge("popper",{elementType:Ko,externalForwardedProps:Xe,ownerState:ce,className:xt(nt.popper,C?.className)}),[ar,ir]=Ge("transition",{elementType:Er,externalForwardedProps:Xe,ownerState:ce}),[sr,pr]=Ge("tooltip",{elementType:Zo,className:nt.tooltip,externalForwardedProps:Xe,ownerState:ce}),[lr,cr]=Ge("arrow",{elementType:Jo,className:nt.arrow,externalForwardedProps:Xe,ownerState:ce,ref:me});return $.jsxs(w.Fragment,{children:[w.cloneElement(j,_),$.jsx(or,{as:E??er,placement:A,anchorEl:x?{getBoundingClientRect:()=>({top:De.y,left:De.x,right:De.x,bottom:De.y,width:0,height:0})}:Q,popperRef:be,open:Q?G:!1,id:ge,transition:!0,...$e,...nr,popperOptions:tr,children:({TransitionProps:P})=>$.jsx(ar,{timeout:X.transitions.duration.shorter,...P,...ir,children:$.jsxs(sr,{...pr,children:[S,n?$.jsx(lr,{...cr}):null]})})})]})}),tn=ft($.jsx("path",{d:"M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2m-11-4 2.03 2.71L16 11l4 5H8zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6z"})),rn=ft($.jsx("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"})),on=ft($.jsx("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"})),nn={none:"none",asc:"ascending",desc:"descending"},Lt={asc:rn,desc:on,none:tn},an=e=>nn[e],sn=({sortOrder:e,onToggleSortOrder:t})=>{const r=Lt[e]??Lt.none;return $.jsx(en,{title:"Sort by Artwork Count",arrow:!0,children:$.jsx(Sr,{"aria-label":"Sort by Artwork Count","aria-pressed":e!=="none","aria-sort":an(e),onClick:t,color:e==="none"?"default":"primary",size:"medium",children:$.jsx(r,{})})})},Le={container:{py:4},box:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"center",gap:3,mb:5,px:2},typography:{flexBasis:"100%",textAlign:"center",color:"text.primary",fontWeight:600,mb:2,letterSpacing:"0.05em"},textField:{maxWidth:300,flexGrow:1,minWidth:220},listGrid:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"1rem",listStyle:"none",padding:0,margin:0,"@media (max-width:1024px)":{gridTemplateColumns:"repeat(3, 1fr)"},"@media (max-width:768px)":{gridTemplateColumns:"repeat(2, 1fr)"},"@media (max-width:480px)":{gridTemplateColumns:"1fr"}}},pn=["akyuu","alice","aun","aya","benben","biten","byakuren","chen","chimata","chimi","chiyari","cirno","clownpiece","daiyousei","doremy","eika","eiki","eirin","enoko","flandre","futo","hatate","hecatia","hina","hisami","ichirin","iku","joon","junko","kagerou","kaguya","kanako","kasen","keiki","keine","kisume","koakuma","kogasa","koishi","kokoro","komachi","kosuzu","kutaka","kyouko","larva","letty","lily","lunasa","luna","lyrica","mai","mamizou","marisa","mayumi","medicine","megumu","meiling","merlin","merry","mike","miko","minamitsu","minoriko","misumaru","miyoi","mizuchi","mokou","momiji","momoyo","mystia","nareko","narumi","nazrin","nemuno","nitori","nue","okina","okuu","orin","parsee","patchouli","raiko","ran","reimu","reisen2","reisen","remilia","renko","ringo","rinnosuke","rin","rumia","sagume","saki","sakuya","sanae","sannyo","satono","satori","seiga","seija","seiran","sekibanki","shinmyoumaru","shion","shizuha","shou","star","suika","sumireko","sunny","suwako","takane","tenshi","tewi","tojiko","tokiko","toyohime","tsukasa","ubame","urumi","wakasagihime","wriggle","yachie","yamame","yatsuhashi","yorihime","yoshika","youmu","yukari","yuugi","yuuka","yuuma","yuyuko","zanmu"],ln=["akeboshi_saku","arugon","ayaharu","chitose_hachi","chuumukade","deetamu","ebi","enoki","gohan_tabe","gokuu","haruwaka_noroshi","hidaruma","iroiro_yaru_hito","kanonari","kanpa","konna_reshiki","mendou15","merihari","muntarou","purabird","seele","sha_re","shichimi","shio","sniper","sobayu_to_tempura","soborou","solidus","soregashi","suwaneko","suzume_suzume","teoi","tofuya","yimu","youyume","yukiya_nagi","zounose"],Bt={characters:pn,artists:ln},Be="character",cn="artist",It="/touhou-translations/",it=25,xn=({mode:e,characters:t,artists:r})=>{const o=e===Be?"Character List":"Artist List",n=e===Be?"Search Characters":"Search Artists";if(e===Be&&!t||e===cn&&!r)throw new Error(`${e} data prop is required`);const a=w.useMemo(()=>e===Be?t:r,[e,t,r]),[l,s]=w.useState(""),[i,c]=w.useState(""),[p,d]=w.useState(!1),[b,m]=w.useState("none"),[O,h]=w.useState(it),g=w.useRef(null),x=w.useMemo(()=>i?a.filter(({id:u,name:f})=>[u,f].some(y=>y.toLowerCase().includes(i.toLowerCase()))):a,[a,i]),T=w.useMemo(()=>b==="none"?x:[...x].sort((u,f)=>b==="asc"?u.artworkCount-f.artworkCount:f.artworkCount-u.artworkCount),[x,b]),k=()=>{m(u=>u==="none"?"desc":u==="desc"?"asc":"none")},v=()=>T.slice(0,O).map(u=>{const f=e===Be,y=u.id,A=u.name,E=`${u.artworkCount} artwork${u.artworkCount!==1?"s":""}`,R=(f?Bt.characters.includes(y):Bt.artists.includes(y))?f?wr(y):br(y):xr(),L=f?`${It}gallery?character=${y}`:`${It}gallery?artist=${y}`;return $.jsx(w.Suspense,{fallback:null,children:$.jsx(yr,{name:A,imageUrl:R,description:E,link:L,shouldLoadImage:p})},y)});return w.useEffect(()=>{const u=setTimeout(()=>c(l),300);return()=>clearTimeout(u)},[l]),w.useEffect(()=>{const u=new IntersectionObserver(y=>{y[0].isIntersecting&&h(A=>Math.min(A+it,T.length))},{rootMargin:"100px"}),f=g.current;return f&&u.observe(f),()=>{f&&u.unobserve(f)}},[T]),w.useEffect(()=>{h(it)},[i,b]),w.useEffect(()=>{"requestIdleCallback"in window?window.requestIdleCallback(()=>d(!0)):setTimeout(()=>d(!0),1e3)},[]),$.jsxs($r,{maxWidth:"lg",sx:Le.container,children:[$.jsxs(at,{sx:Le.box,children:[$.jsx(jr,{variant:"h4",component:"h2",sx:Le.typography,children:o}),$.jsx(Ar,{label:"Search by ID or Name",variant:"outlined",value:l,sx:Le.textField,onChange:u=>s(u.target.value),slotProps:{input:{"aria-label":n}}}),$.jsx(sn,{sortOrder:b,onToggleSortOrder:k})]}),$.jsx(at,{component:"ul",sx:Le.listGrid,children:v()}),O<T.length&&$.jsx(at,{ref:g,sx:{height:"1px"}})]})},Pn=()=>{const e=fr(),[t,r]=w.useState({posts:e.appData?.posts||[],artists:e.appData?.artists||[],characters:e.appData?.characters||[],loading:!e.appData,error:null});return w.useEffect(()=>{if(e.appData)return;(async()=>{try{r(d=>({...d,loading:!0,error:null}));const[n,a,l]=await Promise.all([dr(),mr(),vr()]),s=hr(n),i=gr(n),c=a.map(d=>({...d,artworkCount:s[d.id]??0})),p=l.map(d=>({...d,artworkCount:i[d.id]??0}));r({posts:n,artists:c,characters:p,loading:!1,error:null})}catch(n){r(a=>({...a,loading:!1,error:n instanceof Error?n:new Error("Failed to fetch data")}))}})()},[e.appData]),t};export{xn as L,Pn as u};
